<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>é»„å¸…çš„åšå®¢</title>
  <subtitle>Just I decided.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://huangshuai-iot.github.io/"/>
  <updated>2017-06-09T15:12:41.000Z</updated>
  <id>https://huangshuai-iot.github.io/</id>
  
  <author>
    <name>é»„å¸…</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>éå•†ä¸šç”¨é€”çš„ HomeKit é…ä»¶å¼€å‘çš„å¸¸è§é—®é¢˜</title>
    <link href="https://huangshuai-iot.github.io/2017/06/09/HomeKit%20Accessory%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80%E9%97%AE%E9%A2%98/"/>
    <id>https://huangshuai-iot.github.io/2017/06/09/HomeKit Accessoryå¼€å‘åŸºç¡€é—®é¢˜/</id>
    <published>2017-06-09T03:02:07.000Z</published>
    <updated>2017-06-09T15:12:41.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å‰å¤©åœ¨ iOS11 çš„å®¶åº­ app ä¸­çœ‹åˆ°è‹¹æœæé†’æˆ‘è‡ªå·±å¼€å‘çš„æ™ºèƒ½è®¾å¤‡æ²¡æœ‰ç»è¿‡è®¤è¯ï¼Œè¿˜ä»¥ä¸ºè‹¹æœä¼šå…³é—­é»‘ HomeBridge åè®®è¿™ä¸ªHomeKitæ¥å£ï¼Œæ²¡æƒ³åˆ° WWDC2017 ä»Šå¤©å…¬å¸ƒäº† HomeKit éå•†ä¸šç”¨é€”çš„é…ä»¶çš„æ¥å…¥åè®®ã€‚å¯ä»¥è®©ä¸ªäººå¼€å‘è€…æ¥å…¥è‡ªå·±çš„WiFiå’ŒBLEç±»å‹çš„æ™ºèƒ½ç¡¬ä»¶è®¾å¤‡ã€‚æœ¬æ–‡æ˜¯å¯¹å®˜ç½‘ FAQs çš„æ•´ç†ã€‚</p>
<h1 id="åŸºç¡€é—®é¢˜"><a href="#åŸºç¡€é—®é¢˜" class="headerlink" title="åŸºç¡€é—®é¢˜"></a>åŸºç¡€é—®é¢˜</h1><p>HomeKit é…ä»¶åè®®ï¼ˆHAPï¼‰æ˜¯è‹¹æœä¸“é—¨ç”¨æ¥ä½¿ç¬¬ä¸‰æ–¹é…ä»¶ï¼ˆä¾‹å¦‚ç¯ã€æ’æ¹¿å™¨å’Œé—¨é”ç±»ï¼‰å’Œè‹¹æœè®¾å¤‡ï¼ˆiPhoneã€iPadã€Apple Watchã€AppleTVï¼‰ä¹‹é—´ç›¸äº’é€šä¿¡çš„åè®®ã€‚HAP æ”¯æŒä¸¤ç±»é€šä¿¡æ–¹å¼ï¼šIP å’Œ BLE ã€‚åœ¨ HAPï¼ˆéå•†ä¸šç‰ˆï¼‰åè®®ä¸­æä¾›äº†å¦‚ä½•ä¸ºä½ çš„éå•†ä¸šç”¨é€”é…ä»¶å®ç° HAP åè®®ï¼Œæ„æ€å°±æ˜¯æˆ‘ä»¬è‡ªå·±å¼€å‘çš„è®¾å¤‡æ€æ ·ä»¥å®˜æ–¹è®¤å¯çš„æ–¹å¼æ¥å…¥ HomeKitï¼Œè€Œä¸æ˜¯åˆ©ç”¨é»‘ HomeBridge åè®®æ¥å®ç°ã€‚ </p>
<h2 id="å¦‚ä½•è·å¾—è¿™ä¸ªåè®®è§„èŒƒï¼Ÿ"><a href="#å¦‚ä½•è·å¾—è¿™ä¸ªåè®®è§„èŒƒï¼Ÿ" class="headerlink" title="å¦‚ä½•è·å¾—è¿™ä¸ªåè®®è§„èŒƒï¼Ÿ"></a>å¦‚ä½•è·å¾—è¿™ä¸ªåè®®è§„èŒƒï¼Ÿ</h2><p>HomeKit é…ä»¶åè®®è§„èŒƒå¯ä»¥ä»<a href="https://developer.apple.com/homekit/" target="_blank" rel="external">HomeKitå¼€å‘è€…ç½‘é¡µ</a>ä¸‹è½½ã€‚åœ¨ä½ ä¸‹è½½æ–‡æ¡£ä¹‹å‰ï¼Œä½ éœ€è¦ç”¨ä½ çš„ AppleID ç™»é™†ï¼Œç„¶ååŒæ„å¼€å‘åè®®ã€‚</p>
<h2 id="åˆ©ç”¨æœ¬è§„èŒƒå¼€å‘çš„é…ä»¶å’Œåˆ©ç”¨å•†ä¸šç‰ˆæœ¬çš„-HomeKit-çš„é…ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"><a href="#åˆ©ç”¨æœ¬è§„èŒƒå¼€å‘çš„é…ä»¶å’Œåˆ©ç”¨å•†ä¸šç‰ˆæœ¬çš„-HomeKit-çš„é…ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ" class="headerlink" title="åˆ©ç”¨æœ¬è§„èŒƒå¼€å‘çš„é…ä»¶å’Œåˆ©ç”¨å•†ä¸šç‰ˆæœ¬çš„ HomeKit çš„é…ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"></a>åˆ©ç”¨æœ¬è§„èŒƒå¼€å‘çš„é…ä»¶å’Œåˆ©ç”¨å•†ä¸šç‰ˆæœ¬çš„ HomeKit çš„é…ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</h2><p>ä½¿ç”¨æœ¬è§„èŒƒåˆ›å»ºçš„é…ä»¶ä¸åŒ…å« Apple è®¤è¯åå¤„ç†å™¨æˆ–è€…è·å¾—Wi-Fi Alliance è®¤è¯ï¼Œå¹¶ä¸”ä¸ä¼šåœ¨MFIé¡¹ç›®ä¸‹å®Œæˆ HomeKit è®¤è¯ã€‚å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œå·®å¼‚ä¸»è¦æ˜¯åŸºäºIPçš„é™„ä»¶æ·»åŠ è¿‡ç¨‹ï¼Œå¹¶ä¸”åœ¨ç”¨æˆ·ç»§ç»­æ·»åŠ çš„è¿‡ç¨‹ä¸­ä¼šå¼¹å‡ºè­¦å‘Šå¯¹è¯æ¡†ï¼Œè¯´æ˜è¯¥è®¾å¤‡æ²¡æœ‰ç»è¿‡è‹¹æœè®¤è¯ã€‚</p>
<h2 id="å¦‚ä½•å¼€å‘ç”Ÿäº§-HomeKit-çš„é…ä»¶æ¥å‘å¸ƒé”€å”®ï¼Ÿ"><a href="#å¦‚ä½•å¼€å‘ç”Ÿäº§-HomeKit-çš„é…ä»¶æ¥å‘å¸ƒé”€å”®ï¼Ÿ" class="headerlink" title="å¦‚ä½•å¼€å‘ç”Ÿäº§ HomeKit çš„é…ä»¶æ¥å‘å¸ƒé”€å”®ï¼Ÿ"></a>å¦‚ä½•å¼€å‘ç”Ÿäº§ HomeKit çš„é…ä»¶æ¥å‘å¸ƒé”€å”®ï¼Ÿ</h2><p>ä½ çš„å…¬å¸å¿…é¡»é¦–å…ˆå‚åŠ  MFI è®¡åˆ’ï¼Œè¿›è¡Œå•†ä¸šé”€å”®çš„ç¬¬ä¸‰æ–¹HomeKit é…ä»¶å¿…é¡»åœ¨ç”Ÿäº§é”€å”®ä¹‹å‰è¦å®ç° MFI è®¡åˆ’ï¼ŒåŒ…æ‹¬å®ŒæˆHomeKit è®¤è¯ã€‚</p>
<h2 id="æ˜¯å¦å¯ä»¥åœ¨æˆ‘çš„é…ä»¶ä¸Šæ·»åŠ â€œWorks-with-Apple-HomeKitâ€æ ‡å¿—ï¼Ÿ"><a href="#æ˜¯å¦å¯ä»¥åœ¨æˆ‘çš„é…ä»¶ä¸Šæ·»åŠ â€œWorks-with-Apple-HomeKitâ€æ ‡å¿—ï¼Ÿ" class="headerlink" title="æ˜¯å¦å¯ä»¥åœ¨æˆ‘çš„é…ä»¶ä¸Šæ·»åŠ â€œWorks with Apple HomeKitâ€æ ‡å¿—ï¼Ÿ"></a>æ˜¯å¦å¯ä»¥åœ¨æˆ‘çš„é…ä»¶ä¸Šæ·»åŠ â€œWorks with Apple HomeKitâ€æ ‡å¿—ï¼Ÿ</h2><p>ä¸å…è®¸ï¼Œè¿™ä¸ªæ ‡å¿—åªèƒ½ç”¨äº MFI é¡¹ç›®å¹¶ä¸”å®Œæˆ HomeKit è®¤è¯çš„å•†ä¸šé…ä»¶ã€‚</p>
<h1 id="æŠ€æœ¯ç›¸å…³é—®é¢˜"><a href="#æŠ€æœ¯ç›¸å…³é—®é¢˜" class="headerlink" title="æŠ€æœ¯ç›¸å…³é—®é¢˜"></a>æŠ€æœ¯ç›¸å…³é—®é¢˜</h1><h2 id="æ˜¯å¦å¯ä»¥é€šè¿‡-iOS-å†…ç½®çš„å®¶åº­app-å’Œ-Siri-æ¥æ§åˆ¶æˆ‘çš„é…ä»¶ï¼Œå¹¶ä¸”åˆ›å»ºå®¶åº­åœºæ™¯ï¼Ÿ"><a href="#æ˜¯å¦å¯ä»¥é€šè¿‡-iOS-å†…ç½®çš„å®¶åº­app-å’Œ-Siri-æ¥æ§åˆ¶æˆ‘çš„é…ä»¶ï¼Œå¹¶ä¸”åˆ›å»ºå®¶åº­åœºæ™¯ï¼Ÿ" class="headerlink" title="æ˜¯å¦å¯ä»¥é€šè¿‡ iOS å†…ç½®çš„å®¶åº­app å’Œ Siri æ¥æ§åˆ¶æˆ‘çš„é…ä»¶ï¼Œå¹¶ä¸”åˆ›å»ºå®¶åº­åœºæ™¯ï¼Ÿ"></a>æ˜¯å¦å¯ä»¥é€šè¿‡ iOS å†…ç½®çš„å®¶åº­app å’Œ Siri æ¥æ§åˆ¶æˆ‘çš„é…ä»¶ï¼Œå¹¶ä¸”åˆ›å»ºå®¶åº­åœºæ™¯ï¼Ÿ</h2><p>å¯ä»¥ï¼Œå¦‚æœä½ ä½¿ç”¨ Apple å®šä¹‰çš„ HomeKit æœåŠ¡å’Œæœ¬è§„èŒƒä¸­çš„å±æ€§å®ç°HAPåè®®ï¼Œå¹¶ä¸”æ‰‹æœºä¸­è¿è¡Œ iOS10 åŠæ›´é«˜ç‰ˆæœ¬ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å®¶åº­app å’Œ Siri æ¥æ§åˆ¶é…ä»¶çš„åŠŸèƒ½ã€‚å¯ä»¥é€šè¿‡<a href="https://support.apple.com/zh-cn/HT204893" target="_blank" rel="external">å®¶åº­App ä½¿ç”¨è¯´æ˜</a>æ¥è·å¾—æ›´å¤šå¸®åŠ©ã€‚</p>
<h2 id="å¯ä»¥åˆ›å»ºä¸€ä¸ªé…ä»¶å®ç°-Apple-å°šæœªå®šä¹‰çš„-HomeKit-æœåŠ¡å—ï¼Ÿ"><a href="#å¯ä»¥åˆ›å»ºä¸€ä¸ªé…ä»¶å®ç°-Apple-å°šæœªå®šä¹‰çš„-HomeKit-æœåŠ¡å—ï¼Ÿ" class="headerlink" title="å¯ä»¥åˆ›å»ºä¸€ä¸ªé…ä»¶å®ç° Apple å°šæœªå®šä¹‰çš„ HomeKit æœåŠ¡å—ï¼Ÿ"></a>å¯ä»¥åˆ›å»ºä¸€ä¸ªé…ä»¶å®ç° Apple å°šæœªå®šä¹‰çš„ HomeKit æœåŠ¡å—ï¼Ÿ</h2><p>å¯ä»¥ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªä½¿ç”¨è‡ªå®šä¹‰æœåŠ¡ç±»å‹ï¼Œå¹¶ä¸”å®ç° HAP åè®®çš„é…ä»¶ã€‚ä½†ä¸ºäº†æ§åˆ¶è¿™ä¸ªé…ä»¶ï¼Œä½ éœ€è¦å¼€å‘ä¸€ä¸ªä½¿ç”¨ HomeKit API çš„è‡ªå®šä¹‰åº”ç”¨ç¨‹åºã€‚ä½†è¿™æ ·ä½ å°±æ— æ³•é€šè¿‡å®¶åº­åº”ç”¨ç¨‹åºæˆ–è€…Siri è¿›è¡Œæ§åˆ¶ä½ çš„è®¾å¤‡äº†ã€‚</p>
<h2 id="æˆ‘çš„é…ä»¶å¦‚ä½•ä¸-iOSè®¾å¤‡é…å¯¹ï¼Ÿ"><a href="#æˆ‘çš„é…ä»¶å¦‚ä½•ä¸-iOSè®¾å¤‡é…å¯¹ï¼Ÿ" class="headerlink" title="æˆ‘çš„é…ä»¶å¦‚ä½•ä¸ iOSè®¾å¤‡é…å¯¹ï¼Ÿ"></a>æˆ‘çš„é…ä»¶å¦‚ä½•ä¸ iOSè®¾å¤‡é…å¯¹ï¼Ÿ</h2><p>å¯¹äºIPç±»é…ä»¶ï¼Œé…ä»¶å’ŒiOSè®¾å¤‡é¦–å…ˆå¾—åœ¨åŒä¸€ä¸ªWiFiç½‘ç»œä¸‹ï¼Œè”ç½‘æ˜¾ç¤ºé…ä»¶çš„æ–¹å¼ä¾èµ–äºä½ æ‰€ä½¿ç”¨çš„ç¡¬ä»¶å¼€å‘å¹³å°ã€‚ç„¶åä½ å¯ä»¥é€šè¿‡å®¶åº­Appæˆ–è€…ä½ è‡ªå·±å¼€å‘çš„Appæ¥å®Œæˆé…å¯¹è¿‡ç¨‹ã€‚å¯¹äºBLEç±»é…ä»¶ï¼Œå¯ä»¥åƒä½ å¹³å¸¸ä¸BLEè®¾å¤‡é…å¯¹é‚£æ ·è¿›è¡Œé…å¯¹ã€‚</p>
<h2 id="æˆ‘æ˜¯å¦å¯ä»¥è¿œç¨‹æ§åˆ¶æˆ‘çš„é…ä»¶ï¼Œå¹¶ä¸”ä½¿ç”¨å®¶åº­Appè®¾ç½®è‡ªåŠ¨åŒ–æ“ä½œï¼Ÿ"><a href="#æˆ‘æ˜¯å¦å¯ä»¥è¿œç¨‹æ§åˆ¶æˆ‘çš„é…ä»¶ï¼Œå¹¶ä¸”ä½¿ç”¨å®¶åº­Appè®¾ç½®è‡ªåŠ¨åŒ–æ“ä½œï¼Ÿ" class="headerlink" title="æˆ‘æ˜¯å¦å¯ä»¥è¿œç¨‹æ§åˆ¶æˆ‘çš„é…ä»¶ï¼Œå¹¶ä¸”ä½¿ç”¨å®¶åº­Appè®¾ç½®è‡ªåŠ¨åŒ–æ“ä½œï¼Ÿ"></a>æˆ‘æ˜¯å¦å¯ä»¥è¿œç¨‹æ§åˆ¶æˆ‘çš„é…ä»¶ï¼Œå¹¶ä¸”ä½¿ç”¨å®¶åº­Appè®¾ç½®è‡ªåŠ¨åŒ–æ“ä½œï¼Ÿ</h2><p>å¯ä»¥ï¼Œå¦‚æœé…ä»¶ä½¿ç”¨ Appleå®šä¹‰çš„ HomeKit æœåŠ¡ï¼Œå¹¶ä¸”ä½ å°†iPad æˆ–è€… Apple TVï¼ˆç¬¬å››ä»£ï¼‰è®¾ç½®ä¸ºå®¶åº­ä¸­æ¢ï¼Œä½ å°±å¯ä»¥å®ç°è¿œç¨‹æ§åˆ¶ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹<a href="https://support.apple.com/zh-cn/HT207057" target="_blank" rel="external">è‡ªåŠ¨åŒ–å’Œè¿œç¨‹è®¿é—® HomeKit é…ä»¶</a>æ–‡æ¡£ã€‚</p>
<h2 id="HAPä½¿ç”¨äº†ä»€ä¹ˆå®‰å…¨ç‰¹æ€§ï¼Ÿ"><a href="#HAPä½¿ç”¨äº†ä»€ä¹ˆå®‰å…¨ç‰¹æ€§ï¼Ÿ" class="headerlink" title="HAPä½¿ç”¨äº†ä»€ä¹ˆå®‰å…¨ç‰¹æ€§ï¼Ÿ"></a>HAPä½¿ç”¨äº†ä»€ä¹ˆå®‰å…¨ç‰¹æ€§ï¼Ÿ</h2><p>HomeKit é…ä»¶ä¸ Apple äº§å“ä¹‹é—´é€šè¿‡ HAP çš„æ‰€æœ‰é€šä¿¡éƒ½æ˜¯ç«¯åˆ°ç«¯åŠ å¯†çš„ï¼Œå¹¶ä¸”æ˜¯ç›¸äº’è®¤è¯çš„ã€‚</p>
<h2 id="IPç±»çš„-HomeKit-é…ä»¶æ˜¯å¦å¿…é¡»å®ç°-Bonjourï¼Ÿ"><a href="#IPç±»çš„-HomeKit-é…ä»¶æ˜¯å¦å¿…é¡»å®ç°-Bonjourï¼Ÿ" class="headerlink" title="IPç±»çš„ HomeKit é…ä»¶æ˜¯å¦å¿…é¡»å®ç° Bonjourï¼Ÿ"></a>IPç±»çš„ HomeKit é…ä»¶æ˜¯å¦å¿…é¡»å®ç° Bonjourï¼Ÿ</h2><p>æ˜¯çš„ï¼Œé…ä»¶å¿…é¡»å®ç°Bonjouræ‰èƒ½è¢«å‘ç°ã€‚Bonjourä»£ç å’Œè§„èŒƒå¯ä»¥åœ¨<a href="https://developer.apple.com/bonjour/" target="_blank" rel="external">Bonjour</a>æ–‡æ¡£ä¸­æŸ¥çœ‹ã€‚</p>
<h2 id="BLE-ç±»é…ä»¶æ˜¯å¦å¿…é¡»éµå®ˆè“ç‰™æ ¸å¿ƒè§„èŒƒï¼Ÿ"><a href="#BLE-ç±»é…ä»¶æ˜¯å¦å¿…é¡»éµå®ˆè“ç‰™æ ¸å¿ƒè§„èŒƒï¼Ÿ" class="headerlink" title="BLE ç±»é…ä»¶æ˜¯å¦å¿…é¡»éµå®ˆè“ç‰™æ ¸å¿ƒè§„èŒƒï¼Ÿ"></a>BLE ç±»é…ä»¶æ˜¯å¦å¿…é¡»éµå®ˆè“ç‰™æ ¸å¿ƒè§„èŒƒï¼Ÿ</h2><p>å¼ºçƒˆæ¨èè®¾å¤‡éµå®ˆè“ç‰™æ ¸å¿ƒè§„èŒƒï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿é…ä»¶çš„æ­£å¸¸è¿è¡Œã€‚</p>
<h2 id="æ˜¯å¦å¯ä»¥ä»-Apple-è·å¾—-HomeKitSDKï¼Ÿ"><a href="#æ˜¯å¦å¯ä»¥ä»-Apple-è·å¾—-HomeKitSDKï¼Ÿ" class="headerlink" title="æ˜¯å¦å¯ä»¥ä» Apple è·å¾— HomeKitSDKï¼Ÿ"></a>æ˜¯å¦å¯ä»¥ä» Apple è·å¾— HomeKitSDKï¼Ÿ</h2><p>æš‚æ—¶ä¸è¡Œã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆæˆ‘çš„é™„ä»¶åœ¨-iOSè®¾å¤‡ä¸Šä¼šæœ‰è­¦å‘Šå¯¹è¯æ¡†ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæˆ‘çš„é™„ä»¶åœ¨-iOSè®¾å¤‡ä¸Šä¼šæœ‰è­¦å‘Šå¯¹è¯æ¡†ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæˆ‘çš„é™„ä»¶åœ¨ iOSè®¾å¤‡ä¸Šä¼šæœ‰è­¦å‘Šå¯¹è¯æ¡†ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæˆ‘çš„é™„ä»¶åœ¨ iOSè®¾å¤‡ä¸Šä¼šæœ‰è­¦å‘Šå¯¹è¯æ¡†ï¼Ÿ</h2><p>ä¸åŒ…å«Appleè®¤è¯åå¤„ç†å™¨çš„é…ä»¶å°†åœ¨iOSä¸­è§¦å‘è­¦å‘Šå¯¹è¯æ¡†ï¼Œè¿™è¡¨ç¤ºè¯¥é…ä»¶æœªç» HomeKit è®¤è¯ï¼Œç”¨æˆ·å¯ä»¥ç‚¹å‡»ç¡®è®¤ï¼Œç»§ç»­ä½¿ç”¨è¯¥é…ä»¶ã€‚</p>
<h2 id="æ˜¯å¦å¯ä»¥åœ¨æˆ‘çš„é…ä»¶ä¸­æ·»åŠ ä¸€ä¸ªAppleè®¤è¯åå¤„ç†å™¨ï¼Ÿ"><a href="#æ˜¯å¦å¯ä»¥åœ¨æˆ‘çš„é…ä»¶ä¸­æ·»åŠ ä¸€ä¸ªAppleè®¤è¯åå¤„ç†å™¨ï¼Ÿ" class="headerlink" title="æ˜¯å¦å¯ä»¥åœ¨æˆ‘çš„é…ä»¶ä¸­æ·»åŠ ä¸€ä¸ªAppleè®¤è¯åå¤„ç†å™¨ï¼Ÿ"></a>æ˜¯å¦å¯ä»¥åœ¨æˆ‘çš„é…ä»¶ä¸­æ·»åŠ ä¸€ä¸ªAppleè®¤è¯åå¤„ç†å™¨ï¼Ÿ</h2><p>ä¸å…è®¸ï¼Œè®¤è¯åå¤„ç†å™¨ä»…ç”¨äºå•†ç”¨ HomeKit é…ä»¶ï¼Œè¯¥ç»„ä»¶åªé€‚ç”¨äºç»è¿‡MFIè®¤è¯çš„å…¬å¸ã€‚</p>
<h2 id="åœ¨å“ªå¯ä»¥æé—®å…³äºå®ç°HAPçš„é—®é¢˜ï¼Ÿ"><a href="#åœ¨å“ªå¯ä»¥æé—®å…³äºå®ç°HAPçš„é—®é¢˜ï¼Ÿ" class="headerlink" title="åœ¨å“ªå¯ä»¥æé—®å…³äºå®ç°HAPçš„é—®é¢˜ï¼Ÿ"></a>åœ¨å“ªå¯ä»¥æé—®å…³äºå®ç°HAPçš„é—®é¢˜ï¼Ÿ</h2><p>å‘å…¶ä»–å¼€å‘è€…æˆ–è€…æ™ºèƒ½å®¶å±…çˆ±å¥½è€…è¯¢é—®æŠ€æœ¯é—®é¢˜æˆ–è€…è®¨è®º HomeKit é…ä»¶åè®®ï¼Œè¯·è®¿é—®<a href="https://forums.developer.apple.com/welcome" target="_blank" rel="external">Appleå¼€å‘è€…è®ºå›</a>ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;å‰å¤©åœ¨ iOS11 çš„å®¶åº­ app ä¸­çœ‹åˆ°è‹¹æœæé†’æˆ‘è‡ªå·±å¼€å‘çš„æ™ºèƒ½è®¾å¤‡æ²¡æœ‰ç»è¿‡è®¤è¯ï¼Œè¿˜ä»¥ä¸ºè‹¹æœä¼šå…³é—­é»‘ HomeBridge åè®®è¿™ä¸ªHom
    
    </summary>
    
      <category term="HomeKit" scheme="https://huangshuai-iot.github.io/categories/HomeKit/"/>
    
    
      <category term="HomeKit" scheme="https://huangshuai-iot.github.io/tags/HomeKit/"/>
    
      <category term="HomeKit Accessory Protocol" scheme="https://huangshuai-iot.github.io/tags/HomeKit-Accessory-Protocol/"/>
    
  </entry>
  
  <entry>
    <title>é˜¿é‡Œç™¾å·ç”¨æˆ·åé¦ˆSwiftå¼€å‘å°ç»“</title>
    <link href="https://huangshuai-iot.github.io/2016/12/29/%E9%98%BF%E9%87%8C%E7%99%BE%E5%B7%9D%E7%94%A8%E6%88%B7%E5%8F%8D%E9%A6%88Swift%E5%BC%80%E5%8F%91%E5%B0%8F%E7%BB%93/"/>
    <id>https://huangshuai-iot.github.io/2016/12/29/é˜¿é‡Œç™¾å·ç”¨æˆ·åé¦ˆSwiftå¼€å‘å°ç»“/</id>
    <published>2016-12-29T11:41:25.000Z</published>
    <updated>2016-12-29T14:07:05.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æ‰€æœ‰çš„Appéƒ½éœ€è¦ç»™ç”¨æˆ·ä¸€ä¸ªåé¦ˆæ„è§çš„åŠŸèƒ½ï¼Œè¿™æ ·æ‰èƒ½è®©ç”¨æˆ·ä½¿ç”¨çš„æ›´å¥½æ›´æ–¹ä¾¿ã€‚ä¸æƒ³è‡ªå·±å†™è¿™ä¸€å¥—ç»„ä»¶ï¼Œå› æ­¤è°ƒç ”äº†å‡ æ¬¾ç¬¬ä¸‰æ–¹çš„åé¦ˆç»„ä»¶ã€‚</p>
<h3 id="Instabug"><a href="#Instabug" class="headerlink" title="Instabug"></a>Instabug</h3><p>ä¹æœˆä»½ä¸Šæ¶çš„å¸ˆå¤§åŠ©æ‰‹Appç”¨çš„å°±æ˜¯è¿™ä¸ªåé¦ˆç»„ä»¶ï¼ŒçŸ¥ä¹æ—¥æŠ¥ç”¨çš„ä¹Ÿæ˜¯è¿™ä¸ªï¼Œä¸ç®¡åœ¨Appä»»ä½•ç•Œé¢æ‘‡ä¸€æ‘‡å°±å¯ä»¥è§¦å‘ï¼ŒInstabugä¼šæŠŠå½“å‰ç•Œé¢è¿›è¡Œæˆªå›¾å¹¶ä¸”æ”¯æŒç”¨æˆ·ç¼–è¾‘ï¼Œéå¸¸æ–¹ä¾¿å¥½ç”¨çš„ç»„ä»¶ï¼Œè¿™ä¸ªç”¨æ¥åé¦ˆbugæˆ‘è§‰å¾—éå¸¸å¥½ç”¨ï¼Œä½†æ˜¯ä½œä¸ºåé¦ˆæ„è§çš„è¯ï¼Œæ„Ÿè§‰è¿˜æ˜¯ç¼ºå°‘ä¸€ä¸ªå…¥å£ã€‚å¦å¤–ï¼ŒInstabugé‡‡é›†Bugè¿˜æ˜¯éå¸¸å‡†ç¡®çš„ã€‚</p>
<h3 id="LeanCloud"><a href="#LeanCloud" class="headerlink" title="LeanCloud"></a>LeanCloud</h3><p>LeanCloudçš„åé¦ˆç»„ä»¶å·ç§°ä¸¤è¡Œä»£ç æ¥å…¥ï¼Œéå¸¸æ–¹ä¾¿ï¼Œå®ƒåšæˆä¸€ä¸ªå¯¹è¯æ¡†çš„å½¢å¼ï¼Œå®¢æœä¸ç”¨æˆ·å¯ä»¥è¿›è¡Œäº¤æµï¼Œå¹¶ä¸”ç”¨æˆ·çš„åé¦ˆå¯ä»¥åŠæ—¶å‘ç»™å¼€å‘äººå‘˜çš„LeanCloud æ‰‹æœºå®¢æˆ·ç«¯ï¼Œå®æ—¶æ€§éå¸¸é«˜ã€‚</p>
<h3 id="é˜¿é‡Œç™¾å·"><a href="#é˜¿é‡Œç™¾å·" class="headerlink" title="é˜¿é‡Œç™¾å·"></a>é˜¿é‡Œç™¾å·</h3><p>ä¸€å¹´ä¹‹å‰å¼€å‘çš„appç”¨äº†é˜¿é‡Œç™¾å·ï¼ˆé˜¿é‡Œå·´å·´æ— é™å¼€æ”¾å¹³å°ï¼‰çš„å³æ—¶é€šè®¯åŠŸèƒ½ï¼Œå½“æ—¶é˜¿é‡Œå·´å·´åˆšæŠŠå‹ç›Ÿè¿™äº›å…¬å¸æ”¶è´­ï¼Œé˜¿é‡Œå·´å·´æ— çº¿å¼€æ”¾å¹³å°è¿˜æ²¡æœ‰ç°åœ¨è¿™ä¹ˆå¤šåŠŸèƒ½ï¼Œä¸€å¹´è¿‡å»äº†ï¼Œç°åœ¨çš„åŠŸèƒ½å·²ç»éå¸¸å¤šäº†ã€‚ä»Šå¤©çœ‹ç”¨æˆ·åé¦ˆåŠŸèƒ½æ—¶ï¼Œçœ‹åˆ°äº†ä»–ä»¬çš„2.0ç‰ˆæœ¬çš„åé¦ˆç»„ä»¶ï¼Œè§‰å¾—è¿™ç§åŠ å…¥äº†å¸¸è§åé¦ˆé—®é¢˜è¿™ä¸€é¡µç‰¹åˆ«å¥½ï¼Œç”¨æˆ·åœ¨åé¦ˆä¹‹å‰ï¼Œå¯ä»¥å…ˆè‡ªè¡ŒæŸ¥çœ‹ç›¸ä¼¼é—®é¢˜çš„è§£ç­”ã€‚å¹¶ä¸”ï¼Œç›¸ä¼¼é—®é¢˜çš„è§£ç­”æ˜¯å¯ä»¥å®æ—¶åœ¨åå°æ·»åŠ ä¿®æ”¹ï¼Œè¿™æå¤§æ–¹ä¾¿äº†ç”¨æˆ·ã€‚</p>
<p>äºæ˜¯å°±æš‚å®šäº†ä½¿ç”¨é˜¿é‡Œç™¾å·ï¼Œäºæ˜¯è¿›è¡Œäº†æ¥å…¥çš„æŠ€æœ¯éªŒè¯ã€‚å…ˆçœ‹ä¸€ä¸‹æ•ˆæœå›¾ï¼š</p>
<div id="tt" style="display: inline-block;"><br>       <img src="http://7xqj7o.com1.z0.glb.clouddn.com/blog/Blog_Baichuan_1.PNG" width="50%" height="25%"><br>       <img src="http://7xqj7o.com1.z0.glb.clouddn.com/blog/Blog_Baichuan_2.PNG" width="50%" height="25%"><br></div>

<h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><h3 id="Part1-é˜¿é‡Œç™¾å·å¹³å°æ³¨å†Œ"><a href="#Part1-é˜¿é‡Œç™¾å·å¹³å°æ³¨å†Œ" class="headerlink" title="Part1 é˜¿é‡Œç™¾å·å¹³å°æ³¨å†Œ"></a>Part1 é˜¿é‡Œç™¾å·å¹³å°æ³¨å†Œ</h3><p>è¿™é‡ŒæŒ‰ç…§å®˜æ–¹çš„æ¥å…¥æµç¨‹å°±å¯ä»¥å¾ˆå®¹æ˜“å®Œæˆäº†ï¼Œå°±ä¸èµ˜è¿°äº†ã€‚</p>
<h3 id="Part2-ç”¨æˆ·åé¦ˆSDKå¯¼å…¥"><a href="#Part2-ç”¨æˆ·åé¦ˆSDKå¯¼å…¥" class="headerlink" title="Part2 ç”¨æˆ·åé¦ˆSDKå¯¼å…¥"></a>Part2 ç”¨æˆ·åé¦ˆSDKå¯¼å…¥</h3><p>æˆ‘é€‰æ‹©ä½¿ç”¨çš„æ˜¯ä¸“ä¸šç‰ˆ2.0ï¼ŒSDKç”¨çš„æ˜¯Cocoapodså®‰è£…æ–¹å¼ï¼Œåœ¨Podfileæ·»åŠ é˜¿é‡Œçš„ç§æœ‰æºã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">source 'http:<span class="comment">//repo.baichuan-ios.taobao.com/baichuanSDK/AliBCSpecs.git'</span></div><div class="line">source 'http:<span class="comment">//repo.baichuan-ios.taobao.com/baichuanSDK/AliBCSpecsMirror.git'</span></div><div class="line">target '<span class="type">YourTargetName'</span> <span class="keyword">do</span></div><div class="line">Â Â Â Â pod '<span class="type">YWFeedbackFMWK'</span>, '~&gt; <span class="number">2.0</span>.<span class="number">3.1</span>'</div><div class="line">end</div></pre></td></tr></table></figure>
<p>æ¥ç€ä½¿ç”¨ <code>pod install</code> å®‰è£…å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä¹‹å‰ç”¨çš„ Alamofire ç­‰å…¶ä»–å¾ˆå¤šç»„ä»¶å®‰è£…ä¸äº†ï¼Œå‡ºç°éœ€è¦æ›´æ–°çš„é—®é¢˜ï¼Œæˆ‘è¿™é‡ŒçŒœæµ‹ AliBCSpecsMirror å’Œ CocoaPods/Specs æœ‰ä¸€äº›å·®å¼‚ï¼Œå¼„äº†ä¸€ä¼šç´¢æ€§ç›´æ¥åœ¨ä¸Šé¢å†æ·»åŠ  CocoaPods çš„ä»“åº“ï¼Œ<code>source &#39;https://github.com/CocoaPods/Specs.git&#39;</code>, è¿™æ ·å°±èƒ½åŒæ—¶å®‰è£…YWFeedbackFMWKå’Œæˆ‘ä¹‹å‰çš„å…¶ä»–ç»„ä»¶äº†ï¼Œä½†æ˜¯åˆä¼šå‡ºç°repoä»“åº“æœ‰ä¸¤ä»½çš„warningï¼Œè¿™ä¸ªè¿˜æ²¡è§£å†³å¥½ï¼Œæˆ‘è€ƒå®Œè¯•å†æ‰¾æ‰¾è§£å†³æ–¹æ³•ã€‚</p>
<p>æ³¨æ„ï¼š Cocoapodsé›†æˆæ–¹å¼ä¸éœ€è¦æ‰‹åŠ¨æ·»åŠ ä¾èµ–ç³»ç»Ÿåº“</p>
<p>ä¿®æ”¹ç¼–è¯‘é€‰é¡¹ï¼š<br>åœ¨Target-&gt;Linking-&gt;Other Linker Flagsä¸­æ·»åŠ -ObjCé€‰é¡¹ã€‚</p>
<p>iOS 10ä¸­éšç§æƒé™è®¾ç½®ï¼š<br>å¦‚æœä¸åšè®¾ç½®ï¼Œå¯èƒ½ä¼šå¯¼è‡´å´©æºƒã€å®¡æ ¸ä¸é€šè¿‡ç­‰æƒ…å†µã€‚éœ€è¦åœ¨info plistä¸­å¢åŠ å­—æ®µï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSCameraUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>è®¿é—®ç›¸æœº<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSPhotoLibraryUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>è®¿é—®ç›¸å†Œ<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="Part3-åˆå§‹åŒ–SDKï¼Œæ‰“å¼€åé¦ˆé¡µé¢"><a href="#Part3-åˆå§‹åŒ–SDKï¼Œæ‰“å¼€åé¦ˆé¡µé¢" class="headerlink" title="Part3 åˆå§‹åŒ–SDKï¼Œæ‰“å¼€åé¦ˆé¡µé¢"></a>Part3 åˆå§‹åŒ–SDKï¼Œæ‰“å¼€åé¦ˆé¡µé¢</h3><ol>
<li>åœ¨æ¡¥æ¥å¤´æ–‡ä»¶ä¸­åŠ å…¥ï¼š</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#<span class="keyword">import</span> &lt;YWFeedbackFMWK/YWFeedbackKit.h&gt;</div><div class="line">#<span class="keyword">import</span> &lt;YWFeedbackFMWK/YWFeedbackViewController.h&gt;</div></pre></td></tr></table></figure>
<ol>
<li>è°ƒç”¨åˆå§‹åŒ–æ–¹æ³•ï¼š</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> bcKit = <span class="type">BCFeedbackKit</span>(appKey: <span class="string">"è‡ªå·±çš„appkey"</span>)</div></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼š</strong>è¿™é‡Œéœ€è¦å°†åœ¨é˜¿é‡Œç™¾å·åå°ç”Ÿæˆçš„å®‰å…¨å›¾ç‰‡æ·»åŠ è¿›é¡¹ç›®ç›®å½•ä¸­</p>
<ol>
<li>è®¾ç½®ä¸šåŠ¡æ–¹æ‰©å±•çš„åé¦ˆæ•°æ®ï¼š<br>ç›¸å½“äºç»™åé¦ˆä¿¡æ¯ä¸­åŠ å…¥åé¦ˆç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œå¯è®¾ç½®ä»»æ„å­—æ®µï¼Œåœ¨åˆ›å»ºåé¦ˆé¡µé¢å‰è®¾ç½®ï¼Œå¯åœ¨åå°æ‰©å±•ä¿¡æ¯ä¸­æŸ¥çœ‹ã€‚</li>
</ol>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bcKit.extInfo = [<span class="string">"username"</span>:<span class="string">"è‡ªå·±appç”¨æˆ·ä½“ç³»ä¸­çš„ç”¨æˆ·id"</span>]</div></pre></td></tr></table></figure>
<ol>
<li>æ‰“å¼€åé¦ˆé¡µé¢ï¼š</li>
<li><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">bcKit.makeFeedbackViewController(completionBlock: &#123; (feedbackVC, error) <span class="keyword">in</span></div><div class="line">    <span class="keyword">if</span> <span class="keyword">let</span> vc = feedbackVC &#123;</div><div class="line">    <span class="comment">// å½“ç”¨æˆ·å…³é—­ç”¨æˆ·åé¦ˆï¼Œå°†è°ƒç”¨è¯¥blockè¿›è¡Œdismissæˆ–pop</span></div><div class="line">        vc.closeBlock = &#123;(aParentController) <span class="keyword">in</span></div><div class="line">            aParentController?.navigationController?.popViewController(animated: <span class="literal">false</span>)</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">self</span>.navigationController?.isNavigationBarHidden = <span class="literal">false</span>        </div><div class="line">        <span class="keyword">self</span>.navigationController?.pushViewController(vc, animated: <span class="literal">false</span>)</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ol>
<p>è¿™æ ·å°±å®Œæˆäº†åœ¨appä¸­åŠ å…¥åé¦ˆé¡µé¢çš„æ·»åŠ ã€‚</p>
<h3 id="Part4-é˜¿é‡Œç™¾å·æ§åˆ¶å°é…ç½®åé¦ˆç»„ä»¶"><a href="#Part4-é˜¿é‡Œç™¾å·æ§åˆ¶å°é…ç½®åé¦ˆç»„ä»¶" class="headerlink" title="Part4 é˜¿é‡Œç™¾å·æ§åˆ¶å°é…ç½®åé¦ˆç»„ä»¶"></a>Part4 é˜¿é‡Œç™¾å·æ§åˆ¶å°é…ç½®åé¦ˆç»„ä»¶</h3><p>åœ¨é˜¿é‡Œç™¾å·ç”¨æˆ·åé¦ˆåå°ï¼Œå¯ä»¥åœ¨Appå†…åé¦ˆä¸­æŸ¥çœ‹ç”¨æˆ·å‘é€çš„åé¦ˆä¿¡æ¯ï¼Œè¿˜å¯ä»¥åœ¨Mobileå®¢æˆ·ç«¯é…ç½®ä¸­è‡ªå®šä¹‰é…ç½®appä¸­åé¦ˆé¡µé¢çš„UIã€‚è¿™æ˜¯æˆ‘è§‰å¾—çš„è¯¥äº§å“çš„äº®ç‚¹æ‰€åœ¨ï¼Œå¯ä»¥å®æ—¶é…ç½®çƒ­é—¨é—®é¢˜ï¼Œå‡å»äº†åœ¨appå¼€å‘æ—¶éœ€è¦è€ƒè™‘çš„åŠ¨æ€è·å–ç”Ÿæˆçƒ­é—¨é—®é¢˜çš„è¿‡ç¨‹ï¼Œè€Œä¸”æ•´ä¸ªappUIå…¨éƒ½å®æ—¶åŠ¨æ€è®¾ç½®ã€‚å…·ä½“æ“ä½œå¤§å®¶ç”¨ä¸€ä¸‹å°±å¾ˆå®¹æ˜“äº†è§£äº†ã€‚</p>
<h2 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h2><p>é€šè¿‡ä½¿ç”¨é˜¿é‡Œç™¾å·ç”¨æˆ·åé¦ˆç»„ä»¶ï¼Œæˆ‘åˆä¸€æ¬¡çœ‹åˆ°äº†H5çš„ç”¨é€”ã€‚å¯¹äºè¿™ç±»å¼±ä½¿ç”¨å¼ºåº¦ã€é«˜æ•°æ®å˜æ›´ã€ä½é¡µé¢é€»è¾‘çš„é¡µé¢ï¼Œæˆ‘è§‰å¾—H5çš„ç”¨é€”å¤§å¤§ä½“ç°äº†ï¼Œè™½ç„¶è®²è¿™æ ·çš„ä¸€ä¸ªåé¦ˆçš„åŸç”Ÿé¡µé¢ä»¥åŠä¸€å¥—åå°å¤„ç†ç³»ç»Ÿæ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å®ç°ä¸Šçš„å›°éš¾ç‚¹ï¼Œä½†æ˜¯å¯¹äºå¤§éƒ¨åˆ†appå¼€å‘æ¥è®²ï¼Œè¿˜æ˜¯éœ€è¦æ¶ˆè€—æ—¶é—´ç²¾åŠ›æ¥åšçš„ï¼Œæ›´é‡è¦çš„æ˜¯è¿™ä¸æ˜¯ç”¨æˆ·ä½¿ç”¨appçš„åˆšéœ€ï¼Œå› æ­¤è¿™ç§å³æ’å³ç”¨å¯æœåŠ¡ç«¯å®æ—¶é…ç½®çš„H5åé¦ˆé¡µé¢çš„å‡ºç°æ°åˆ°å¥½å¤„ã€‚</p>
<h2 id="ç•ªå¤–ç¯‡"><a href="#ç•ªå¤–ç¯‡" class="headerlink" title="ç•ªå¤–ç¯‡"></a>ç•ªå¤–ç¯‡</h2><p>push ç™¾å· feedbackVC çš„æ—¶å€™ï¼Œå› æ­¤ NavigationBar éƒ¨åˆ†ä¼šé»‘ä¸€ä¸‹å†æ˜¾ç¤ºã€‚å¾ˆå¥‡æ€ªçš„æ˜¯æˆ‘å¦‚æœåœ¨ pushä¹‹å‰ navigationController éšè—äº† NavigationBar ï¼Œè¿™ä¸ª feedbackVC å°±æ²¡æœ‰äº† NavigationBarã€‚åé¦ˆé¡µé¢å…¶å®å°±æ˜¯ä¸€ä¸ª webViewï¼Œå› æ­¤æˆ‘æ²¡æœ‰ææ‡‚ä¸ºä»€ä¹ˆ navigationController çš„NavigationBar æ˜¾ç¤ºä¸å¦ä¼šå½±å“ä¸€ä¸ª webView é‡Œé¢ H5 é¡µé¢çš„ NavigationBar æ˜¾ç¤ºã€‚è¿™ä¸ªé—®é¢˜æˆ‘å¾—å†ç ”ç©¶ç ”ç©¶ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;æ‰€æœ‰çš„Appéƒ½éœ€è¦ç»™ç”¨æˆ·ä¸€ä¸ªåé¦ˆæ„è§çš„åŠŸèƒ½ï¼Œè¿™æ ·æ‰èƒ½è®©ç”¨æˆ·ä½¿ç”¨çš„æ›´å¥½æ›´æ–¹ä¾¿ã€‚ä¸æƒ³è‡ªå·±å†™è¿™ä¸€å¥—ç»„ä»¶ï¼Œå› æ­¤è°ƒç ”äº†å‡ æ¬¾ç¬¬ä¸‰æ–¹çš„åé¦ˆç»„ä»¶ã€‚&lt;/p&gt;

    
    </summary>
    
      <category term="å¼€å‘" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/iOS/"/>
    
    
      <category term="Swift" scheme="https://huangshuai-iot.github.io/tags/Swift/"/>
    
      <category term="é˜¿é‡Œç™¾å·" scheme="https://huangshuai-iot.github.io/tags/%E9%98%BF%E9%87%8C%E7%99%BE%E5%B7%9D/"/>
    
      <category term="ç”¨æˆ·åé¦ˆ" scheme="https://huangshuai-iot.github.io/tags/%E7%94%A8%E6%88%B7%E5%8F%8D%E9%A6%88/"/>
    
  </entry>
  
  <entry>
    <title>iOS10 Today Extension å¼€å‘å°ç»“ </title>
    <link href="https://huangshuai-iot.github.io/2016/10/11/iOS10-Today-Extension-%E5%BC%80%E5%8F%91%E5%B0%8F%E7%BB%93/"/>
    <id>https://huangshuai-iot.github.io/2016/10/11/iOS10-Today-Extension-å¼€å‘å°ç»“/</id>
    <published>2016-10-11T09:30:20.000Z</published>
    <updated>2016-12-29T11:44:48.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>9.15å·ä¸­ç§‹èŠ‚é‚£å¤©å‘å¸ƒäº†<a href="https://itunes.apple.com/us/app/shi-da-zhu-shou-hui-shi-fan/id1150983683?l=zh&amp;ls=1&amp;mt=8" target="_blank" rel="external">å¸ˆå¤§åŠ©æ‰‹App</a>åï¼Œå°±åœ¨æƒ³è¿˜åŠ ç‚¹ä»€ä¹ˆåŠŸèƒ½ã€‚åæ¥æƒ³åˆ°äº†å¯ä»¥åœ¨ Today Widgets é‡Œé¢åŠ ä¸€ä¸ªä»Šæ—¥è¯¾ç¨‹ï¼Œäºæ˜¯å°±å¼€å§‹åŠ¨æ‰‹åšäº†ã€‚å…ˆç»™å¤§å®¶çœ‹ä¸€ä¸‹æœ€ç»ˆæ•ˆæœï¼š<br><img src="http://7xqj7o.com1.z0.glb.clouddn.com/blog/Blog_Widgets_1" alt="æœ€ç»ˆæ•ˆæœ"><br>ä¸€å¼€å§‹å¼€å‘çš„æ—¶å€™ï¼Œè¿˜æ˜¯ Xcode7 å’Œ Swift2 ï¼Œç­‰åˆ°å‡†å¤‡ä¸Šæ¶å®¡æ ¸çš„æ—¶å€™ï¼ŒXcode8 æ­£å¼ç‰ˆå‘å¸ƒäº†ï¼Œç„¶åå°±åšäº† Swift3 è¿ç§»å’Œ iOS10 é€‚é…ã€‚</p>
<h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><h3 id="Part1-åŸºæœ¬æ­å»º"><a href="#Part1-åŸºæœ¬æ­å»º" class="headerlink" title="Part1 åŸºæœ¬æ­å»º"></a>Part1 åŸºæœ¬æ­å»º</h3><ol>
<li>æ–°å»º iOS Project ï¼Œè¿™å°±ä¸ç”¨è¯´äº†å“ˆ</li>
<li>æ–°å»ºä¸€ä¸ª Target ï¼Œé€‰æ‹© Today-Extension ï¼ŒTargetåå­—å°±è®¾ç½®ä¸º TodayWidget</li>
<li>åœ¨ MainInterface.storyboard ç”» UI ï¼Œç„¶åè¿è¡Œå°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ï¼Œç”±äºæˆ‘æ˜¯æ˜¾ç¤ºè¯¾ç¨‹ï¼Œå°±åœ¨é‡Œé¢æ·»åŠ äº†ä¸€ä¸ª UITableView ï¼Œå¹¶ä¸”å¢åŠ äº†ä¸¤ä¸ª Prototype Cell ç”¨äºè‡ªå®šä¹‰Cell</li>
</ol>
<h3 id="Part2-ä¾èµ–é¡¹ç›®å¼•å…¥"><a href="#Part2-ä¾èµ–é¡¹ç›®å¼•å…¥" class="headerlink" title="Part2 ä¾èµ–é¡¹ç›®å¼•å…¥"></a>Part2 ä¾èµ–é¡¹ç›®å¼•å…¥</h3><ol>
<li><p>åœ¨ Podfile é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ªtargetï¼Œå¹¶åŠ å…¥éœ€è¦å¼•å…¥çš„é¡¹ç›®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
 <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">target '<span class="type">TodayWidget'</span> <span class="keyword">do</span></div><div class="line">  pod '<span class="type">YYModel'</span></div><div class="line">end</div></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ TodayWidget Target ä¸‹é¢æ–°å»ºä¸€ä¸ªæ¡¥æ¥å¤´æ–‡ä»¶ï¼Œè¿™é‡Œä¸ºçœå»è®¾ç½®çš„å¤´æ–‡ä»¶çš„æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥æ–°å»ºocæ–‡ä»¶ï¼Œxcodeä¼šé—®ä½ è¦ä¸è¦è‡ªåŠ¨æ·»åŠ ä¸€ä¸ªæ¡¥æ¥å¤´æ–‡ä»¶ï¼Œå»ºå¥½ä¹‹ååˆ é™¤ocæ–‡ä»¶å³å¯</p>
</li>
<li>æ¥ä¸‹æ¥åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«çš„é€šè¿‡ Cocoapods ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“äº†ï¼Œä½†æ˜¯æäº¤ä»£ç åˆ°AppStoreå°±ä¼šæŠ¥å¦‚ä¸‹çš„é”™è¯¯äº†ï¼š<br> <img src="http://7xqj7o.com1.z0.glb.clouddn.com/blog/Blog_Widgets_2" alt="ä¸Šä¼ æŠ¥é”™"></li>
<li><p>è§£å†³targetsä¸èƒ½ä½¿ç”¨Cocoapodsçš„æ–¹æ³•æ˜¯ï¼šåœ¨TodayWidget -&gt; Build Phases -&gt; New Run Script Phase ï¼Œå†æ·»åŠ å¦‚ä¸‹ä»£ç </p>
 <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">cd <span class="string">"$&#123;CONFIGURATION_BUILD_DIR&#125;/$&#123;UNLOCALIZED_RESOURCES_FOLDER_PATH&#125;/"</span></div><div class="line"><span class="keyword">if</span> [[ -d <span class="string">"Frameworks"</span> ]]; then</div><div class="line">rm -fr <span class="type">Frameworks</span></div><div class="line">fi</div></pre></td></tr></table></figure>
</li>
<li><p>è¿™æ ·å°±å¯ä»¥é¡ºåˆ©æäº¤åˆ°AppStoreäº†</p>
</li>
</ol>
<h3 id="Part3-TodayExtension-Target-å’Œ-main-Target-ä¹‹é—´æ•°æ®å…±äº«"><a href="#Part3-TodayExtension-Target-å’Œ-main-Target-ä¹‹é—´æ•°æ®å…±äº«" class="headerlink" title="Part3 TodayExtension Target å’Œ main Target ä¹‹é—´æ•°æ®å…±äº«"></a>Part3 TodayExtension Target å’Œ main Target ä¹‹é—´æ•°æ®å…±äº«</h3><p>åœ¨è®²å¦‚ä½•å…·ä½“å®ç°æ•°æ®å…±äº«ä¹‹å‰ï¼Œéœ€è¦å…ˆæ‰“å¼€ä¸¤ä¸ªTarget -&gt; Capabilities -&gt; App Groupsï¼Œåªæœ‰åœ¨åŒä¸€ä¸ªGroupså†…çš„targetæ‰èƒ½å…±åŒè¯»å†™æ•°æ®ã€‚<br><img src="http://7xqj7o.com1.z0.glb.clouddn.com/blog/Blog_Widgets_3.png" alt="è®¾ç½®Group"><br>æœ‰ä¸¤ç§è§£å†³æ–¹å¼ï¼šUserDefaults å’Œ FileManager </p>
<h4 id="Solution1-UserDefaultsæ–¹å¼"><a href="#Solution1-UserDefaultsæ–¹å¼" class="headerlink" title="Solution1  UserDefaultsæ–¹å¼"></a>Solution1  UserDefaultsæ–¹å¼</h4><p>UserDefaults Apple å®˜æ–¹æ–‡æ¡£ï¼š</p>
<blockquote>
<p>The NSUserDefaults class provides a programmatic interface for interacting with the defaults system. The defaults system allows an application to customize its behavior to match a userâ€™s preferences. For example, you can allow users to determine what units of measurement your application displays or how often documents are automatically saved. Applications record such preferences by assigning values to a set of parameters in a userâ€™s defaults database. The parameters are referred to as defaults since theyâ€™re commonly used to determine an applicationâ€™s default state at startup or the way it acts by default.</p>
</blockquote>
<p>åœ¨æœ¬Appä¸­ï¼Œæˆ‘éœ€è¦å°†å½“å‰æ˜¯ç¬¬å‡ æ•™å­¦å‘¨åœ¨ targets é—´ä¼ é€’ï¼Œæ•°æ®é‡å¾ˆå°ï¼Œäºæ˜¯é‡‡ç”¨äº† UserDefaults æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š<br>    <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å†™å…¥</span></div><div class="line"><span class="type">UserDefaults</span>.<span class="keyword">init</span>(suiteName: <span class="string">"group.com.huangshuai.xxx"</span>)?.<span class="keyword">set</span>(week, forKey: <span class="string">"currentWeek"</span>)</div><div class="line"><span class="comment">// è¯»å–</span></div><div class="line"><span class="keyword">let</span> currentWeek = <span class="type">UserDefaults</span>.<span class="keyword">init</span>(suiteName: <span class="string">"group.com.huangshuai.xxx"</span>)?.object(forKey: <span class="string">"currentWeek"</span>) <span class="keyword">as</span>? <span class="type">Int</span> ?? <span class="number">1</span></div></pre></td></tr></table></figure></p>
<p>æ³¨ï¼šè¿™é‡Œæ˜¯ group é—´çš„ UserDefaults æ•°æ®å…±äº«ï¼Œè€Œä¸æ˜¯å¹³å¸¸çš„å•ä¸€targetä¸‹é¢çš„ UserDefaults ä½¿ç”¨ï¼š<br>    <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å†™å…¥</span></div><div class="line"><span class="type">UserDefaults</span>.standard.<span class="keyword">set</span>(<span class="literal">false</span>, forKey: <span class="string">"isFirstLaunch"</span>)</div><div class="line"><span class="comment">// è¯»å–</span></div><div class="line"><span class="keyword">let</span> isFirstLaunch = <span class="type">UserDefaults</span>.standard.object(forKey: <span class="string">"isFirstLaunch"</span>) <span class="keyword">as</span>? <span class="type">Bool</span> ?? <span class="literal">true</span></div></pre></td></tr></table></figure></p>
<h4 id="Solution2-FileManageræ–¹å¼"><a href="#Solution2-FileManageræ–¹å¼" class="headerlink" title="Solution2  FileManageræ–¹å¼"></a>Solution2  FileManageræ–¹å¼</h4><p>FileManager Apple å®˜æ–¹æ–‡æ¡£ï¼š</p>
<blockquote>
<p>An FileManager object lets you examine the contents of the file system and make changes to it. The FileManager class provides convenient access to a shared file manager object that is suitable for most types of file-related manipulations. A file manager object is typically your primary mode of interaction with the file system. You use it to locate, create, copy, and move files and directories. You also use it to get information about a file or directory or change some of its attributes.</p>
</blockquote>
<p>åœ¨æœ¬Appä¸­ï¼Œæˆ‘éœ€è¦å°†æ‰€æœ‰çš„è¯¾è¡¨æ•°æ®åœ¨ targets é—´ä¼ é€’ï¼Œæ•°æ®é‡è¾ƒå¤§ï¼Œäºæ˜¯é‡‡ç”¨äº† FileManager æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> name = <span class="string">"course.plist"</span></div><div class="line"><span class="keyword">let</span> groupPath = <span class="type">FileManager</span>.<span class="keyword">default</span>.containerURL(forSecurityApplicationGroupIdentifier: <span class="string">"group.com.huangshuai.xxx"</span>)</div><div class="line"><span class="keyword">let</span> groupPathString = groupPath!.absoluteString.replacingOccurrences(of:<span class="string">"file:///private"</span>, with: <span class="string">""</span>).replacingOccurrences(of:<span class="string">"file:///"</span>, with: <span class="string">""</span>)</div><div class="line">destPath = (groupPathString <span class="keyword">as</span> <span class="type">NSString</span>).appendingPathComponent(name).characters.<span class="built_in">split</span>&#123;$<span class="number">0</span> == <span class="string">"."</span>&#125;.<span class="built_in">map</span>(<span class="type">String</span>.<span class="keyword">init</span>).first!</div><div class="line"><span class="comment">// å†™å…¥</span></div><div class="line"><span class="keyword">let</span> dic = [:] <span class="keyword">as</span> <span class="type">NSDictionary</span></div><div class="line">dic.write(toFile: destPath, atomically: <span class="literal">true</span>)</div><div class="line"><span class="comment">// è¯»å–</span></div><div class="line"><span class="keyword">let</span> dict = <span class="type">NSDictionary</span>(contentsOfFile: destPath)</div></pre></td></tr></table></figure>
<h3 id="Part4-é€‚é…-iOS10-Widgets-æ–°ç‰¹æ€§"><a href="#Part4-é€‚é…-iOS10-Widgets-æ–°ç‰¹æ€§" class="headerlink" title="Part4 é€‚é… iOS10 Widgets æ–°ç‰¹æ€§"></a>Part4 é€‚é… iOS10 Widgets æ–°ç‰¹æ€§</h3><h4 id="å¤„ç†-Widgets-å±•å¼€-æŠ˜å çš„æƒ…å†µ"><a href="#å¤„ç†-Widgets-å±•å¼€-æŠ˜å çš„æƒ…å†µ" class="headerlink" title="å¤„ç† Widgets å±•å¼€/æŠ˜å çš„æƒ…å†µ"></a>å¤„ç† Widgets å±•å¼€/æŠ˜å çš„æƒ…å†µ</h4><p>åœ¨ iOS10 ä¹‹å‰ï¼ŒWidgets çš„é«˜åº¦å¯ä»¥è‡ªå®šä¹‰è®¾ç½®ï¼Œä½†æ˜¯åœ¨ iOS10 ä¸­ï¼ŒWidgets çš„ activeDisplayMode æœ‰ä¸¤ç§çŠ¶æ€ï¼š.expanded å’Œ .compactã€‚ éœ€è¦æ ¹æ®å½“å‰ç”¨æˆ·çš„é€‰æ‹©æ¥å¤„ç† Widgets çš„é«˜åº¦ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@available</span>(iOSApplicationExtension <span class="number">10.0</span>, *)</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">widgetActiveDisplayModeDidChange</span><span class="params">(<span class="number">_</span> activeDisplayMode: NCWidgetDisplayMode, withMaximumSize maxSize: CGSize)</span></span> &#123;</div><div class="line">    <span class="keyword">if</span> activeDisplayMode == .compact &#123;</div><div class="line">        <span class="keyword">self</span>.preferredContentSize = maxSize</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">self</span>.preferredContentSize = <span class="keyword">self</span>.tableView.contentSize</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæœ‰ä¸ªBugï¼šå°±æ˜¯åœ¨ .compact ä¸‹æ— æ³•è®¾ç½®å°ºå¯¸ï¼Œä¸ç®¡æ€ä¹ˆè®¾ç½®éƒ½æ˜¯ maxsizeã€‚è¿˜æœ‰å¾…è§£å†³ã€‚</p>
<h4 id="å¤„ç†-Widgets-åœ¨-iOS9-å’Œ-iOS10-ä¸‹çš„æ˜¾ç¤º-Bug"><a href="#å¤„ç†-Widgets-åœ¨-iOS9-å’Œ-iOS10-ä¸‹çš„æ˜¾ç¤º-Bug" class="headerlink" title="å¤„ç† Widgets åœ¨ iOS9 å’Œ iOS10 ä¸‹çš„æ˜¾ç¤º Bug"></a>å¤„ç† Widgets åœ¨ iOS9 å’Œ iOS10 ä¸‹çš„æ˜¾ç¤º Bug</h4><p>åœ¨ iOS10 ä¸­ï¼ŒWidgets çš„èƒŒæ™¯æ˜¯ç™½è‰²çš„ï¼Œäºæ˜¯å­—ä½“é¢œè‰²è®¾ç½®ä¸ºé»‘è‰²çš„ï¼Œä½†æ˜¯åœ¨ iOS9 ä¸­ï¼ŒèƒŒæ™¯æ˜¯é»‘è‰²çš„ï¼ŒApp åœ¨iOS9ä¸­è¿è¡Œå°±ä¼šçœ‹ä¸è§å­—ã€‚æ„Ÿè§‰è¿™æ˜¯iOS10é€‚é…çš„Bugï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªèƒ½é€šè¿‡åˆ¤æ–­ç³»ç»Ÿç‰ˆæœ¬æ¥è®¾ç½®å­—ä½“é¢œè‰²äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> #available(iOSApplicationExtension <span class="number">10.0</span>, *) &#123;</div><div class="line">    mainTextColor = <span class="type">UIColor</span>.black</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    mainTextColor = <span class="type">UIColor</span>.white</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Bug"><a href="#Bug" class="headerlink" title="Bug:"></a>Bug:</h4><p>åœ¨ iOS10 ä¸‹ï¼ŒWidgets çš„ displayBundleName è®¾ç½®ä¹Ÿä¸èµ·ä½œç”¨äº†ï¼Œä¸ç®¡æ€ä¹ˆè®¾ç½®åªè·Ÿ mainTarget çš„displayBundleName ä¸€è‡´ï¼Œè¿˜æœªæ‰¾åˆ°è§£å†³æ–¹æ³•ã€‚</p>
<h2 id="ç•ªå¤–ç¯‡"><a href="#ç•ªå¤–ç¯‡" class="headerlink" title="ç•ªå¤–ç¯‡"></a>ç•ªå¤–ç¯‡</h2><p>å¥³ç¥¨è¯´å¥¹ä»¬å­¦æ ¡è¯¾ç¨‹å¾ˆå¤šï¼Œæ¯å¤©çœ‹è¯¾è¡¨ä¸æ–¹ä¾¿ï¼Œåœ¨å›½åº†èŠ‚é™ªå¥¹è¿‡ç”Ÿæ—¥çš„æ—¶å€™ï¼Œç°åœºæ’¸äº†ä¸€ä¸ªAppåªä¾›å¥¹ä½¿ç”¨ï¼Œå¥¹æ¯æ¬¡ä¸ç”¨è§£é”ç›´æ¥ä¸‹æ‹‰Widgetså°±å¯ä»¥çœ‹åˆ°ä»Šæ—¥è¯¾ç¨‹ï¼Œå¥¹å¼€å¿ƒçš„ä¸å¾—äº†è¿˜å‘äº†æœ‹å‹åœˆç‚«è€€ä¸€ç•ªã€‚å“ˆå“ˆï¼Œå¥³ç¥¨æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›â˜ºï¸</p>
<p>è¯´åˆ°è¿™ï¼Œæœ¬æ–‡ä¹Ÿå°±ç»“æŸäº†ï¼Œä»¥ä¸Šæåˆ°çš„Bugï¼Œæˆ‘ä¼šåœ¨è§£å†³ä¹‹åå†æ¥æ›´æ–°ä»£ç ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;9.15å·ä¸­ç§‹èŠ‚é‚£å¤©å‘å¸ƒäº†&lt;a href=&quot;https://itunes.apple.com/us/app/shi-da-zhu-shou-
    
    </summary>
    
      <category term="å¼€å‘" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/iOS/"/>
    
    
      <category term="Swift" scheme="https://huangshuai-iot.github.io/tags/Swift/"/>
    
      <category term="Alamofire" scheme="https://huangshuai-iot.github.io/tags/Alamofire/"/>
    
      <category term="Today-Extension" scheme="https://huangshuai-iot.github.io/tags/Today-Extension/"/>
    
  </entry>
  
  <entry>
    <title>Swift3 è¿ç§»å°ç»“</title>
    <link href="https://huangshuai-iot.github.io/2016/10/08/Swift3-%E8%BF%81%E7%A7%BB%E5%B0%8F%E7%BB%93/"/>
    <id>https://huangshuai-iot.github.io/2016/10/08/Swift3-è¿ç§»å°ç»“/</id>
    <published>2016-10-08T14:56:05.000Z</published>
    <updated>2016-10-12T14:07:21.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>9.15å·ä¸­ç§‹èŠ‚é‚£å¤©å‘å¸ƒäº†<a href="https://itunes.apple.com/us/app/shi-da-zhu-shou-hui-shi-fan/id1150983683?l=zh&amp;ls=1&amp;mt=8" target="_blank" rel="external">å¸ˆå¤§åŠ©æ‰‹App</a>ï¼Œåæ¥æœ‰æ¬¡åœ¨ Yosemite OS ä¸‹æ›´æ–°åˆ° Xcode8 ï¼Œæ‰“å¼€åé¡¹ç›®ä¸€ç‰‡çº¢ï¼Œå½“æ—¶åªæ˜¯æƒ³ä¿®å¤ä¸€ä¸‹ bugï¼Œè¿˜æ²¡æƒ³è¦è¿ç§»åˆ° Swift3ï¼Œäºæ˜¯é»˜é»˜çš„ é‡æ–°è£…äº† Xcode7ï¼Œåˆç»§ç»­æ„‰å¿«çš„æ”¹bugäº†ï¼Œç„¶å9æœˆ20å·æäº¤åˆ°å•†åº—æ›´æ–°ä¹Ÿæ²¡é—®é¢˜ã€‚21å·æç¤º Sierra å¯ä»¥æ›´æ–°äº†ï¼Œäºæ˜¯æ‰‹è´±æ›´æ–°äº†ä¸€æ³¢ã€‚ç„¶åæ‚²å‰§å°±å¼€å§‹äº†ã€‚<br>æ›´æ–°å®Œ Sierra åï¼Œæˆ‘æ·»åŠ äº†WidgetsåŠŸèƒ½ï¼Œäºæ˜¯å‡†å¤‡ä¸Šä¼ åˆ°å•†åº—ï¼Œç„¶åå°±æ˜¯ ä¸€ç›´ä¼ ä¸ä¸Šå»ã€‚è¯•äº†ä¸€ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š</p>
<ol>
<li>Xcode7 æ‰“åŒ…ï¼ŒXcode8 ä¸Šä¼ </li>
<li>Xcode7 æ‰“åŒ…ï¼Œåœ¨ Sierra ä¸‹ç”¨ Application Loader ä¸Šä¼ </li>
<li>Xcode7 æ‰“åŒ…ï¼Œåœ¨åŒå­¦ Yosemite ä¸‹ç”¨ Application Loader ä¸Šä¼ </li>
</ol>
<p>ç»“æœä»¥ä¸Šéƒ½ä¸è¡Œï¼Œä¸€ç›´å¡åœ¨éªŒè¯é‚£é‡Œï¼Œäºæ˜¯æˆ‘å°±ä¸€ç‹ å¿ƒï¼Œè¯´ç”¨ Xcode8 ï¼Œåšä¸€ä¸‹ Swift3 è¿ç§»ğŸ˜‚ï¼Œå¼€å¯äº†å‡çº§æ‰“æ€ªä¹‹æ—…</p>
<h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><h3 id="è‡ªåŠ¨ä»£ç -Convert"><a href="#è‡ªåŠ¨ä»£ç -Convert" class="headerlink" title="è‡ªåŠ¨ä»£ç  Convert"></a>è‡ªåŠ¨ä»£ç  Convert</h3><p>åœ¨è¿™é‡Œï¼Œæˆ‘åª Convert è‡ªå·±å†™çš„ä»£ç ï¼Œäº‹å®è¯æ˜æ˜¯æ˜æ™ºçš„ï¼Œå› ä¸ºç¬¬ä¸‰æ–¹åº“è‡ªå·±éƒ½åšäº†é€‚é…ï¼Œä¸éœ€è¦æˆ‘ä»¬æ¥è¿›è¡Œ Convertï¼Œè¿™ä¸€æ­¥åšå®Œï¼Œè‡ªå·±çš„ä»£ç å¤§è‡´ä¸Šæ²¡ä»€ä¹ˆé—®é¢˜äº†ï¼Œä¸»è¦é”™è¯¯éƒ½é›†ä¸­åœ¨ç¬¬ä¸‰æ–¹åº“çš„æ¥å£è°ƒç”¨ä¸Š</p>
<h3 id="ç¬¬ä¸‰æ–¹åº“-Update"><a href="#ç¬¬ä¸‰æ–¹åº“-Update" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“ Update"></a>ç¬¬ä¸‰æ–¹åº“ Update</h3><p>æˆ‘æœ‰ä¸ªä¹ æƒ¯ï¼Œå°±æ˜¯ update ä¹‹å‰å–œæ¬¢å…ˆå»é¡¹ç›®ä¸»é¡µçœ‹ä¸€ä¸‹ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ã€‚</p>
<h4 id="CocoaPods"><a href="#CocoaPods" class="headerlink" title="CocoaPods"></a>CocoaPods</h4><ol>
<li><p>å¸è½½å·²æœ‰çš„ CocoaPods (éå¿…é¡»)</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ which pod</div><div class="line">/usr/local/bin/pod</div><div class="line">$ sudo rm -rf /usr/local/bin/pod</div></pre></td></tr></table></figure>
</li>
<li><p>å®‰è£…æ”¯æŒ Xcode8 çš„ CocoaPods</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo gem install cocoapods --pre</div></pre></td></tr></table></figure>
</li>
</ol>
<p>æ›´æ–°å®Œ CocoaPods è¿˜æœ‰æ›´æ–°æœ¬åœ°åº“ï¼Œå°±ä¸è¯´äº†ã€‚</p>
<h4 id="Alamofire"><a href="#Alamofire" class="headerlink" title="Alamofire"></a>Alamofire</h4><p>å»å®˜ç½‘çœ‹äº†ä¸€ä¸‹ï¼ŒçœŸæ˜¯å‘çˆ¹ï¼ŒAlamofire 4.0 å˜åŒ–å¥½å¤§ï¼Œæ¥å£éƒ½æŒ‰ç…§ Swift3 é‡æ–°å¼„äº†ï¼ŒäºŒè¯ä¸è¯´ï¼Œå…ˆæ›´æ–°ä¸€ä¸‹ã€‚<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod '<span class="type">Alamofire'</span>, '~&gt; <span class="number">4.0</span>'</div></pre></td></tr></table></figure></p>
<p>åŸºæœ¬çš„ä»£ç æ›´æ–°çœ‹<a href="https://github.com/Alamofire/Alamofire/blob/master/Documentation/Alamofire%204.0%20Migration%20Guide.md" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a>å°±å·®ä¸å¤šäº†ã€‚ä¸‹é¢å†™å‡ ä¸ªå®˜æ–¹æ–‡æ¡£æ²¡æœ‰æåˆ°çš„ï¼š</p>
<h5 id="é…ç½®httpsè¯ä¹¦"><a href="#é…ç½®httpsè¯ä¹¦" class="headerlink" title="é…ç½®httpsè¯ä¹¦"></a>é…ç½®httpsè¯ä¹¦</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">configureAlamofireManager</span><span class="params">()</span></span> &#123;</div><div class="line">   <span class="keyword">let</span> manager = <span class="type">SessionManager</span>.<span class="keyword">default</span></div><div class="line">   manager.delegate.sessionDidReceiveChallenge = &#123; session, challenge <span class="keyword">in</span></div><div class="line">       <span class="keyword">var</span> disposition: <span class="type">URLSession</span>.<span class="type">AuthChallengeDisposition</span> = .performDefaultHandling</div><div class="line">       <span class="keyword">var</span> credential: <span class="type">URLCredential</span>?</div><div class="line">       </div><div class="line">       <span class="keyword">if</span> challenge.protectionSpace.authenticationMethod == <span class="type">NSURLAuthenticationMethodServerTrust</span> &#123;</div><div class="line">           disposition = <span class="type">URLSession</span>.<span class="type">AuthChallengeDisposition</span>.useCredential</div><div class="line">           credential = <span class="type">URLCredential</span>(trust: challenge.protectionSpace.serverTrust!)</div><div class="line">       &#125; <span class="keyword">else</span> &#123;</div><div class="line">           <span class="keyword">if</span> challenge.previousFailureCount &gt; <span class="number">0</span> &#123;</div><div class="line">               disposition = .cancelAuthenticationChallenge</div><div class="line">           &#125; <span class="keyword">else</span> &#123;</div><div class="line">               credential = manager.session.configuration.urlCredentialStorage?.defaultCredential(<span class="keyword">for</span>: challenge.protectionSpace)</div><div class="line">               </div><div class="line">               <span class="keyword">if</span> credential != <span class="literal">nil</span> &#123;</div><div class="line">                   disposition = .useCredential</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">return</span> (disposition, credential)</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="è‡ªå®šä¹‰Requestè¯·æ±‚"><a href="#è‡ªå®šä¹‰Requestè¯·æ±‚" class="headerlink" title="è‡ªå®šä¹‰Requestè¯·æ±‚"></a>è‡ªå®šä¹‰Requestè¯·æ±‚</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> urlRequest = urlRequestWithComponents(<span class="type">SchoolNetWorkBaseURL</span>, parameters: parameters)</div><div class="line"><span class="type">Alamofire</span>.upload(urlRequest.<span class="number">1</span>, with: urlRequest.<span class="number">0</span>).response &#123;</div><div class="line">    response <span class="keyword">in</span></div><div class="line">        </div><div class="line">    <span class="keyword">let</span> htmlString:<span class="type">String</span> = <span class="type">NSString</span>(data: response.data!, encoding: <span class="type">GB2312Encoding</span>)! <span class="keyword">as</span> <span class="type">String</span></div><div class="line">    <span class="built_in">print</span>(htmlString)</div><div class="line">&#125;</div><div class="line"></div><div class="line">fileprivate <span class="function"><span class="keyword">func</span> <span class="title">urlRequestWithComponents</span><span class="params">(<span class="number">_</span> urlString:String,parameters:[String: AnyObject])</span></span> -&gt; (<span class="type">URLRequestConvertible</span>,<span class="type">Data</span>) &#123;</div><div class="line">        </div><div class="line">   <span class="comment">// create  url request to send</span></div><div class="line">   <span class="keyword">var</span> mutableURLRequest = <span class="type">URLRequest</span>(url: <span class="type">URL</span>(string: urlString)!)</div><div class="line">   mutableURLRequest.httpMethod = <span class="type">HTTPMethod</span>.post.rawValue</div><div class="line">   <span class="keyword">let</span> contentType = <span class="string">"application/x-www-form-urlencoded"</span></div><div class="line">   mutableURLRequest.setValue(contentType, forHTTPHeaderField: <span class="string">"Content-Type"</span>)</div><div class="line">   mutableURLRequest.setValue(<span class="string">"****"</span>, forHTTPHeaderField: <span class="string">"Referer"</span>)</div><div class="line">   </div><div class="line">   <span class="comment">// add parameters</span></div><div class="line">   <span class="keyword">var</span> uploadData = <span class="type">Data</span>()</div><div class="line">   <span class="keyword">for</span> (key,value) <span class="keyword">in</span> parameters &#123;</div><div class="line">       uploadData.append(<span class="string">"<span class="subst">\(key)</span>=<span class="subst">\(value)</span>&amp;"</span>.data(using: <span class="type">String</span>.<span class="type">Encoding</span>(rawValue: <span class="type">GB2312Encoding</span>))!)</div><div class="line">   &#125;</div><div class="line">   </div><div class="line">   <span class="keyword">return</span> (<span class="keyword">try</span>! <span class="type">URLEncoding</span>.<span class="keyword">default</span>.encode(mutableURLRequest, with: <span class="literal">nil</span>),uploadData)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Eureka"><a href="#Eureka" class="headerlink" title="Eureka"></a>Eureka</h4><p>Eureka åœ¨æ–°ç‰ˆæœ¬ä¸­åˆ é™¤äº† ImageRowï¼Œæˆ‘ä¹‹å‰ä»£ç æœ‰ä¸€å¤„æ— æ³•è°ƒç”¨ï¼Œåæ¥æäº†ä¸ª<a href="https://github.com/xmartlabs/Eureka/issues/688" target="_blank" rel="external">issue</a>ï¼Œé—®äº†ä½œè€…ã€‚<br><img src="http://7xqj7o.com1.z0.glb.clouddn.com/blog/Blog_Swift3_1.png" alt="Issue"><br>ç”±äºåœ¨ iOS10 ä¸­ï¼Œapp éœ€è¦å¯¹ç›¸å†Œå’Œç›¸æœºçš„ä½¿ç”¨è¿›è¡Œæƒé™ç”³æ˜ï¼Œä¸ç„¶ä¼šé—ªé€€ï¼Œæœªé¿å…å…¶ä»– app é—ªé€€ï¼Œå°±åˆ äº† imageRowï¼Œä½œè€…ä¹Ÿç»™äº†è§£å†³æ–¹æ³•ï¼ŒæŒ‰ç…§ä»–ç»™æ–¹æ³•ï¼Œæœ¬åœ°æ·»åŠ  imageRow å°±å¯ç»§ç»­ä½¿ç”¨äº†ï¼Œæˆ–è€…è‡ªå·±å®ç°CustomRowï¼Œå‡†å¤‡è¿‡æ®µæ—¶é—´è¯•ä¸€ä¸‹è‡ªå®šä¹‰ CustomRowã€‚</p>
<h4 id="Kanna"><a href="#Kanna" class="headerlink" title="Kanna"></a>Kanna</h4><p>é¡¹ç›®ä¸­éœ€è¦è§£æ html ï¼Œä¸€ç›´ç”¨çš„ Kannaï¼Œåœ¨ swift3 ä¸­ï¼ŒåŸæ¥çš„<code>doc.xpath(&quot;//table/tr&quot;).count</code>å˜æˆäº† <code>doc.xpath(&quot;//table/tr&quot;).nodeSet.count</code>ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;9.15å·ä¸­ç§‹èŠ‚é‚£å¤©å‘å¸ƒäº†&lt;a href=&quot;https://itunes.apple.com/us/app/shi-da-zhu-shou-
    
    </summary>
    
      <category term="å¼€å‘" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/iOS/"/>
    
    
      <category term="Swift 3.x" scheme="https://huangshuai-iot.github.io/tags/Swift-3-x/"/>
    
      <category term="Alamofire 4.x" scheme="https://huangshuai-iot.github.io/tags/Alamofire-4-x/"/>
    
      <category term="Kanna 2.x" scheme="https://huangshuai-iot.github.io/tags/Kanna-2-x/"/>
    
      <category term="Eureka 2.x" scheme="https://huangshuai-iot.github.io/tags/Eureka-2-x/"/>
    
  </entry>
  
  <entry>
    <title>Swift ä½¿ç”¨ Xib è‡ªå®šä¹‰ View å’Œ Cell</title>
    <link href="https://huangshuai-iot.github.io/2016/08/09/Swift%E4%BD%BF%E7%94%A8Xib%E8%87%AA%E5%AE%9A%E4%B9%89View%E5%92%8CCell/"/>
    <id>https://huangshuai-iot.github.io/2016/08/09/Swiftä½¿ç”¨Xibè‡ªå®šä¹‰Viewå’ŒCell/</id>
    <published>2016-08-09T09:06:52.000Z</published>
    <updated>2016-10-12T14:17:52.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>åŸæ¥ä¸€ç›´ä½¿ç”¨çš„æ˜¯Storyboardè‡ªå®šä¹‰<code>UITableViewCell</code>çš„ï¼Œæš‘æœŸæ¥å…¬å¸å®ä¹ ï¼Œå‘ç°å…¬å¸ç”¨çš„æ˜¯Xibè‡ªå®šä¹‰Viewï¼Œå­¦é•¿è¯´äººå¤šç”¨SBä¸å¥½ååŒå·¥ä½œã€‚é™¤äº†è¿™ä¸ªåŸå› ï¼Œæˆ‘ä¹‹å‰è¿˜å‘ç°Storyboardçš„å¤ç”¨æ€§ä¸å¥½ï¼Œè‡ªå®šä¹‰çš„Cellä¸èƒ½åœ¨å¤šä¸ªStoryboardæ–‡ä»¶ä¸­å¤ç”¨ğŸ˜‚ã€‚</p>
<p>ä¸‹é¢ä»‹ç»åˆ©ç”¨Xibè‡ªå®šä¹‰Viewå’ŒCellã€‚</p>
<h1 id="è‡ªå®šä¹‰Cell"><a href="#è‡ªå®šä¹‰Cell" class="headerlink" title="è‡ªå®šä¹‰Cell"></a>è‡ªå®šä¹‰Cell</h1><p>æ–°å»ºCellæ–‡ä»¶æ—¶ï¼Œå‹¾é€‰ç”ŸæˆXibæ–‡ä»¶ã€‚ç„¶ååœ¨Xibä¸Šä½¿ç”¨æ§ä»¶å’Œçº¦æŸï¼Œå’ŒStoryboardä¸€æ ·ã€‚</p>
<p>åœ¨ä½¿ç”¨è‡ªå®šä¹‰çš„Cellæ—¶ï¼Œè¦è®°å¾—æ³¨å†Œå¯å¤ç”¨çš„Cellã€‚ä¾‹å¦‚:<code>collectionView.registerReusableCell(FMPersonHelpReportVCCollectionViewCell)</code></p>
<p>å‰©ä¸‹çš„ä½¿ç”¨è¿‡ç¨‹å’Œç”¨Storyboardè‡ªå®šä¹‰çš„Prototype Cellæ˜¯ä¸€è‡´çš„ã€‚</p>
<h1 id="è‡ªå®šä¹‰View"><a href="#è‡ªå®šä¹‰View" class="headerlink" title="è‡ªå®šä¹‰View"></a>è‡ªå®šä¹‰View</h1><p>æ–°å»ºViewçš„æ—¶å€™ï¼Œæ˜¯æ— æ³•å‹¾é€‰ç”ŸæˆXibæ–‡ä»¶çš„ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è‡ªå·±åˆ›å»ºåŒåçš„UIViewå’ŒXibæ–‡ä»¶ã€‚å¹¶ä¸”å°† Xibæ–‡ä»¶çš„ Fileâ€™s Owner -&gt; Custom Class -&gt; Class å±æ€§è®¾ä¸ºåˆšæ‰æ–°å»ºçš„ç±»ã€‚</p>
<p>ç”±äºè‡ªå®šä¹‰Viewä¸èƒ½ç›´æ¥ä»Viewåˆå§‹åŒ–ï¼Œæ‰€ä»¥å†™äº†ä¸€ä¸ªåŸºç±»ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseXibView</span>: <span class="title">UIView</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> view:<span class="type">UIView</span>?</div><div class="line">    </div><div class="line">    <span class="comment">//åˆå§‹åŒ–æ–¹æ³•ã€‚</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">initFromXib</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="comment">//è·å–Xibæ–‡ä»¶åå­—</span></div><div class="line">        <span class="keyword">let</span> xibName = <span class="type">NSStringFromClass</span>(<span class="keyword">self</span>.classForCoder)</div><div class="line">        <span class="keyword">let</span> xibClassName = xibName.characters.<span class="built_in">split</span>&#123;$<span class="number">0</span> == <span class="string">"."</span>&#125;.<span class="built_in">map</span>(<span class="type">String</span>.<span class="keyword">init</span>).last</div><div class="line">        <span class="comment">//ä½¿ç”¨Xibåˆå§‹åŒ–ä¸€ä¸ªView</span></div><div class="line">        <span class="keyword">let</span> view = <span class="type">NSBundle</span>.mainBundle().loadNibNamed(xibClassName, owner: <span class="keyword">self</span>, options: <span class="literal">nil</span>).first <span class="keyword">as</span>! <span class="type">UIView</span></div><div class="line">        view.frame = <span class="keyword">self</span>.bounds</div><div class="line">        view.translatesAutoresizingMaskIntoConstraints = <span class="literal">true</span></div><div class="line">        view.autoresizingMask = [.<span class="type">FlexibleWidth</span>,.<span class="type">FlexibleHeight</span>]</div><div class="line">        <span class="keyword">self</span>.addSubview(view)</div><div class="line">        <span class="keyword">self</span>.view = view</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</div><div class="line">        initFromXib()</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">required</span> <span class="keyword">init</span>(coder aDecoder: <span class="type">NSCoder</span>) &#123;</div><div class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(coder:aDecoder)!</div><div class="line">        initFromXib()</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ˜¯æˆ‘å†™çš„ä¸€ä¸ªè‡ªå®šä¹‰Viewï¼Œä¸»è¦ç”¨æ¥è¿›è¡Œæ–°æ‰‹å¼•å¯¼çš„ï¼Œè¦†ç›–åœ¨åŸè§†å›¾ä¸Šï¼Œç‚¹å‡»viewï¼Œæ…¢æ…¢æ”¹å˜é€æ˜åº¦ã€‚<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FMHomeNewUserGuideView</span>: <span class="title">BaseXibView</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">var</span> imageView: <span class="type">UIImageView</span>!</div><div class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">var</span> label: <span class="type">UILabel</span>!</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> isMainView = <span class="literal">true</span></div><div class="line">    </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">initFromXib</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.initFromXib()</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesBegan</span><span class="params">(touches: Set&lt;UITouch&gt;, withEvent event: UIEvent?)</span></span> &#123;</div><div class="line">        <span class="type">UIView</span>.animateWithDuration(<span class="number">0.25</span>, animations: &#123; </div><div class="line">            <span class="keyword">self</span>.alpha = <span class="number">0</span></div><div class="line">            &#125;) &#123; (isComplete) <span class="keyword">in</span></div><div class="line">                <span class="keyword">self</span>.removeSubviews()</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">setUI</span><span class="params">()</span></span> &#123;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ç”¨æ³•ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> homeNewUserGuideView = <span class="type">FMHomeNewUserGuideView</span>()</div></pre></td></tr></table></figure></p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h1&gt;&lt;p&gt;åŸæ¥ä¸€ç›´ä½¿ç”¨çš„æ˜¯Storyboardè‡ªå®šä¹‰&lt;code&gt;UITableViewCell&lt;/code&gt;çš„ï¼Œæš‘æœŸæ¥å…¬å¸å®ä¹ ï¼Œå‘ç°å…¬å¸ç”¨çš„æ˜¯Xibè‡ª
    
    </summary>
    
      <category term="å¼€å‘" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/iOS/"/>
    
    
      <category term="Swift" scheme="https://huangshuai-iot.github.io/tags/Swift/"/>
    
      <category term="Xib" scheme="https://huangshuai-iot.github.io/tags/Xib/"/>
    
      <category term="è‡ªå®šä¹‰View" scheme="https://huangshuai-iot.github.io/tags/%E8%87%AA%E5%AE%9A%E4%B9%89View/"/>
    
  </entry>
  
  <entry>
    <title>Swift æ¨¡æ‹Ÿç™»é™†å°ç»“</title>
    <link href="https://huangshuai-iot.github.io/2016/08/02/Swift%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86%E5%B0%8F%E7%BB%93/"/>
    <id>https://huangshuai-iot.github.io/2016/08/02/Swiftæ¨¡æ‹Ÿç™»é™†å°ç»“/</id>
    <published>2016-08-02T10:27:36.000Z</published>
    <updated>2016-10-12T14:18:43.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>è¿‡å®Œå¹´åœ¨å­¦æ ¡åº¦è¿‡å¤§å­¦çš„æœ€åä¸€å­¦æœŸï¼ŒæœŸé—´åŠ æ·±å­¦ä¹ äº†Pythonçš„Djangoå’ŒiOSå¼€å‘ã€‚åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œå°±æƒ³ç€ä¸´èµ°å‰åšä¸€ä¸ªæ ¡å›­åº”ç”¨ã€‚ç”±äºæˆ‘ä»¬çš„éœ€è¦çš„ä¿¡æ¯åˆ†æ•£åœ¨å­¦æ ¡å„ä¸ªéƒ¨é—¨çš„ç³»ç»Ÿä¸­ï¼Œæ­¤æ—¶å°±éœ€è¦é€šè¿‡æ¨¡æ‹Ÿç™»é™†æ¥è·å–æˆ‘ä»¬æƒ³è¦çš„ä¿¡æ¯ã€‚ä¸€å¼€å§‹æ˜¯ç”¨pythonæ¥æ¨¡æ‹Ÿç™»é™†è§£ææ•°æ®çš„ï¼ŒåæœŸç”±äºæˆ‘å¯¹æ¶æ„è®¾è®¡çš„æ”¹å˜ï¼ˆä¸»è¦æ˜¯æœåŠ¡å™¨èµ„æºå’Œæµé‡æ²¡é’±ä¹°ğŸ˜‚ï¼‰ï¼Œæˆ‘æŠŠå¾ˆå¤šè§£ææ”¾åœ¨æ‰‹æœºç«¯ï¼ˆæš‚æ—¶ä¸ºiOSç«¯ï¼‰æ¥å¤„ç†ï¼Œæ‰€ä»¥å°±åº”è¿è€Œå‡ºæœ¬ç¯‡åšæ–‡ã€‚</p>
<h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><p>è¦æ¨¡æ‹Ÿæµè§ˆå™¨ç™»é™†ï¼Œé¦–å…ˆå¾—åˆ†ææµè§ˆå™¨ç™»é™†çš„æ­¥éª¤ï¼Œå†ç”¨ä»£ç æ¥å®ç°ã€‚åœ¨åˆ†ææµè§ˆå™¨ç™»é™†ä¹‹å‰å…ˆä»‹ç»ä¸€ä¸‹ä½¿ç”¨åˆ°çš„å·¥å…·ã€‚</p>
<h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><h3 id="Charles"><a href="#Charles" class="headerlink" title="Charles"></a>Charles</h3><p>è¿™æ˜¯ä¸€æ¬¾å¸¸ç”¨çš„ç½‘ç»œå°åŒ…æˆªå–å·¥å…·ï¼Œåœ¨åšå¼€å‘æ—¶ï¼Œæˆ‘ä»¬ä¸ºäº†è°ƒè¯•ä¸æœåŠ¡å™¨ç«¯çš„ç½‘ç»œé€šè®¯åè®®ï¼Œå¸¸å¸¸éœ€è¦æˆªå–ç½‘ç»œå°åŒ…æ¥åˆ†æã€‚Macå’ŒPCéƒ½å¯ä»¥ä½¿ç”¨ã€‚ä»Šå¤©å¥½åƒå‘å¸ƒäº†æ–°ç‰ˆäº†ã€‚è¿™ä¸ªè¿˜å¯ä»¥ä½œä¸ºiPhoneçš„httpä»£ç†ï¼Œæ¥æŠ“åŒ…æ‰‹æœºçš„ç½‘ç»œåŒ…ã€‚å…³äºæ­¤è½¯ä»¶çš„ä½¿ç”¨è¯¦æƒ…ï¼Œå¯ä»¥é˜…è¯»<a href="&quot;http://blog.devtang.com/2015/11/14/charles-introduction/&quot;">å”å·§è€å¸ˆçš„åšå®¢</a>ã€‚</p>
<h3 id="Postman"><a href="#Postman" class="headerlink" title="Postman"></a>Postman</h3><p>è¿™æ˜¯Macä¸ŠChromeçš„ä¸€ä¸ªç½‘ç»œè°ƒè¯•çš„å·¥å…·æ’ä»¶ï¼ŒPCä¸Šä¸çŸ¥é“æœ‰æ²¡æœ‰ï¼Œå¯ä»¥é€šè¿‡è¯¥å·¥å…·æ¥è¿›è¡Œå„ç§httpè¯·æ±‚ã€‚</p>
<h3 id="ç¼–ç å·¥å…·"><a href="#ç¼–ç å·¥å…·" class="headerlink" title="ç¼–ç å·¥å…·"></a>ç¼–ç å·¥å…·</h3><p>è¿™æ˜¯ä¸€ä¸ªåœ¨çº¿çš„<a href="http://tool.chinaz.com/tools/urlencode.aspx" target="_blank" rel="external">ç«™é•¿å·¥å…·</a>ï¼Œå¯ä»¥è¿›è¡Œå„ç±»ç¼–ç é—´çš„è½¬æ¢ï¼Œæœ€å¸¸ç”¨çš„åº”è¯¥å°±æ˜¯utf-8çš„UrlDecodeå’ŒUrlEncodeã€‚è¿™ä¸ªå·¥å…·è¿˜éå¸¸è´´å¿ƒçš„æä¾›äº†gb2312æ ¼å¼çš„UrlDecodeå’ŒUrlEncodeã€‚</p>
<h3 id="Alamofireï¼ˆiOSç½‘ç»œåº“ï¼‰"><a href="#Alamofireï¼ˆiOSç½‘ç»œåº“ï¼‰" class="headerlink" title="Alamofireï¼ˆiOSç½‘ç»œåº“ï¼‰"></a>Alamofireï¼ˆiOSç½‘ç»œåº“ï¼‰</h3><ol>
<li>Alamofire çš„å‰èº«æ˜¯ AFNetworkingã€‚AFNetworking æ˜¯ iOS å’Œ OS X ä¸Šå¾ˆå—æ¬¢è¿çš„ç¬¬ä¸‰æ–¹HTTPç½‘ç»œåŸºç¡€åº“ã€‚</li>
<li>å…¶å® AFNetwork çš„å‰ç¼€ AF ä¾¿æ˜¯ Alamofire çš„ç¼©å†™ã€‚</li>
<li>Swiftå‘å¸ƒåï¼ŒAFNetworkingçš„ä½œè€…åˆç”¨Swiftè¯­è¨€å†™äº†ä¸ªç›¸åŒåŠŸèƒ½çš„åº“ï¼Œè¿™ä¾¿æ˜¯ Alamofireã€‚</li>
<li>Alamofire æœ¬è´¨æ˜¯åŸºäº<code>NSURLSession</code>ï¼Œå¹¶åšäº†å°è£…ã€‚ä½¿ç”¨ Alamofire å¯ä»¥è®©æˆ‘ä»¬ç½‘ç»œè¯·æ±‚ç›¸å…³ä»£ç ï¼ˆå¦‚è·å–æ•°æ®ï¼Œæäº¤æ•°æ®ï¼Œä¸Šä¼ æ–‡ä»¶ï¼Œä¸‹è½½æ–‡ä»¶ç­‰ï¼‰æ›´åŠ ç®€æ´æ˜“ç”¨ã€‚</li>
</ol>
<p><strong>å…³äºCookie:</strong><br>Alamofireæ˜¯åŸºäºNSURLRequestå°è£…çš„ï¼Œæ‰€ä»¥Cookieä¼šè‡ªåŠ¨ä¿å­˜ï¼Œå°±å’Œæµè§ˆå™¨è¯·æ±‚æ˜¯ä¸€ä¸ªæ•ˆæœã€‚è€Œä¸”ç½‘ç«™Set_cookieå¤šä¹…ï¼Œæœ¬åœ°çš„Cookieå°±å¤šä¹…ï¼Œæ¯æ¬¡è¯·æ±‚çš„æ—¶å€™éƒ½ä¼šè‡ªåŠ¨å¸¦ä¸Šcookieï¼Œç›´åˆ°è¿‡æœŸã€‚ï¼ˆæ‰€ä»¥åƒç™»é™†sessionè¿™äº›çš„éƒ½ä¸ç”¨æˆ‘ä»¬æ‰‹åŠ¨å»å¤„ç†ï¼‰ã€‚</p>
<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><p>POSTè¯·æ±‚å’ŒGETè¯·æ±‚åº”è¯¥å°±ä¸ç”¨è§£é‡Šäº†ï¼Œè¿™é‡Œæé†’ä¸€ä¸‹ç¼–ç æ ¼å¼ï¼Œç°åœ¨å¤§éƒ¨åˆ†æœåŠ¡å™¨éƒ½æ˜¯utf-8ç¼–ç æ ¼å¼çš„ï¼Œä½†ä¸æ’é™¤å°‘é‡ç”¨çš„GB2312ã€‚æ‰€ä»¥åœ¨å‘ç°æœåŠ¡å™¨å“åº”æ•°æ®ä¹±ç æ—¶è¦æ£€æŸ¥è¿”å›æ•°æ®çš„ç¼–ç æ ¼å¼ã€‚</p>
<h2 id="å‡ ä¸ªä¾‹å­"><a href="#å‡ ä¸ªä¾‹å­" class="headerlink" title="å‡ ä¸ªä¾‹å­"></a>å‡ ä¸ªä¾‹å­</h2><h3 id="ç™»é™†1"><a href="#ç™»é™†1" class="headerlink" title="ç™»é™†1"></a>ç™»é™†1</h3><p>åšæ ¡å›­APPæƒ³åˆ°çš„ç¬¬ä¸€ä¸ªåŠŸèƒ½å°±æ˜¯æŸ¥æˆç»©æŸ¥è¯¾è¡¨ï¼Œäºæ˜¯ç¬¬ä¸€ä¸ªå°±æ˜¯æ‹¿æ•™åŠ¡ç³»ç»ŸåŠ¨åˆ€ã€‚</p>
<p>é€šè¿‡Charleså‘ç°ï¼Œä½¿ç”¨ç½‘é¡µç™»é™†æ•™åŠ¡ç³»ç»Ÿçš„æ—¶å€™ï¼Œå…¶å®æ˜¯è·³è½¬åˆ°ä¸€ä¸ªchecké¡µéªŒè¯è´¦å·å¯†ç ï¼Œå†è·³è½¬å›æ•™åŠ¡ç³»ç»Ÿé¦–é¡µã€‚è¯¥ç½‘é¡µè¿”å›çš„å°±æ˜¯JSONæ•°æ®ï¼Œæ‰€ä»¥ç”¨çš„<code>responseJSON</code>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="type">Alamofire</span>.request(<span class="type">Method</span>.<span class="type">POST</span>, <span class="type">SchoolBaseURL</span>+<span class="string">"login/check.shtml"</span></div><div class="line">, parameters:[<span class="string">"user"</span>:<span class="string">"*****"</span>,<span class="string">"pass"</span>:<span class="string">"*****"</span>,<span class="string">"usertype"</span>:<span class="string">"stu"</span>]</div><div class="line">, encoding: <span class="type">ParameterEncoding</span>.<span class="type">URL</span></div><div class="line">, headers: <span class="literal">nil</span>).responseJSON &#123;</div><div class="line">                response <span class="keyword">in</span></div><div class="line">            </div><div class="line">            <span class="keyword">guard</span> response.result.isSuccess  <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">self</span>.callback?.managerApiCallBackFailed(<span class="keyword">self</span>)</div><div class="line">                <span class="type">Hud</span>.showError(<span class="string">"ç½‘ç»œé”™è¯¯äº†"</span>)</div><div class="line">                <span class="keyword">return</span></div><div class="line">            &#125;</div><div class="line">            <span class="comment">// ç™»é™†æˆåŠŸ</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="ç™»é™†2"><a href="#ç™»é™†2" class="headerlink" title="ç™»é™†2"></a>ç™»é™†2</h3><p>æƒ³åˆ°çš„ç¬¬äºŒä¸ªåŠŸèƒ½å°±æ˜¯æŸ¥è¯¢æ ¡å›­ç½‘æµé‡ä½¿ç”¨æƒ…å†µï¼Œäºæ˜¯ç„ä¸Šäº†ä¿¡æ¯ç®¡ç†ä¸­å¿ƒçš„æ ¡å›­ç½‘ç³»ç»Ÿã€‚</p>
<p>è¿™é‡Œè¯·æ±‚æ—¶å¿…é¡»å¸¦ä¸ŠContent-Typeå’ŒRefererã€‚å¦åˆ™å°±ä¼šè·³åˆ°ç™»å½•é¡µã€‚è¿™ä¸ªç³»ç»Ÿå°±æ˜¯æˆ‘è®²çš„GB2312ç¼–ç çš„å‘è´§ç³»ç»Ÿã€‚è¿”å›çš„dataéœ€è¦ç»è¿‡GB2312ç¼–ç ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="type">Alamofire</span>.request(<span class="type">Method</span>.<span class="type">POST</span>, <span class="type">SchoolNetWorkBaseURL</span></div><div class="line">, parameters:[<span class="string">"username"</span>:<span class="string">"*****"</span>,<span class="string">"password"</span>:<span class="string">"*****"</span>]</div><div class="line">, encoding: <span class="type">ParameterEncoding</span>.<span class="type">URL</span></div><div class="line">, headers: [<span class="string">"Content-Type"</span>:<span class="string">"application/x-www-form-urlencoded"</span>,<span class="string">"Referer"</span>:<span class="type">SchoolNetWorkBaseURL</span>]).response &#123;</div><div class="line">                request, response, data, error <span class="keyword">in</span> </div><div class="line">                </div><div class="line">                <span class="comment">// ä¸šåŠ¡å¤„ç†</span></div><div class="line">                <span class="keyword">let</span> <span class="type">GB2312Encoding</span> = <span class="type">CFStringConvertEncodingToNSStringEncoding</span>(<span class="number">0x0632</span>)</div><div class="line">                <span class="keyword">let</span> selfHTMLString:<span class="type">String</span> = <span class="type">NSString</span>(data: data!, encoding: <span class="type">GB2312Encoding</span>)! <span class="keyword">as</span> <span class="type">String</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¼„åˆ°è¿™é‡Œæ„Ÿè§‰è¿˜æ¯”è¾ƒè½»æ¾ï¼Œä½†æ˜¯æœ€å‘çˆ¹çš„æ˜¯ï¼Œè¿™ä¸ªç½‘ç«™çš„è¯·æ±‚å‚æ•°å¿…é¡»æ˜¯ç»è¿‡GB2312çš„URLEncodeã€‚è€ŒAlamofireåªèƒ½å°†å‚æ•°è¿›è¡Œutf-8ç¼–ç ã€‚æˆ‘å¼€å§‹æ—¶ä»¥ä¸ºå°†è¯·æ±‚å‚æ•°ç”¨GB2312ç¼–ç åä¼ å…¥å³å¯ï¼Œæˆ–è€…åˆ©ç”¨GB2312ç¼–ç çš„URLEncodeåå†ä¼ å…¥ã€‚ä½†æ˜¯éƒ½ç›¸å½“äºAlamofireåœ¨æœ€å¤–å±‚è¿˜æ˜¯ç”¨UTF-8åˆURLEncodeäº†ä¸€éã€‚</p>
<p>è¿™æ˜¯Alamofireçš„æºç ï¼Œè¿™é‡Œå¯ä»¥ç”±<code>charst=utf-8</code>çœ‹å‡ºå®ƒé»˜è®¤å°†æ•°æ®è¿›è¡Œutf-8ç¼–ç ã€‚<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> method = <span class="type">Method</span>(rawValue: mutableURLRequest.<span class="type">HTTPMethod</span>) <span class="keyword">where</span> encodesParametersInURL(method) &#123;</div><div class="line">    <span class="keyword">if</span> <span class="keyword">let</span></div><div class="line">        <span class="type">URLComponents</span> = <span class="type">NSURLComponents</span>(<span class="type">URL</span>: mutableURLRequest.<span class="type">URL</span>!, resolvingAgainstBaseURL: <span class="literal">false</span>)</div><div class="line">        <span class="keyword">where</span> !parameters.isEmpty</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">let</span> percentEncodedQuery = (<span class="type">URLComponents</span>.percentEncodedQuery.<span class="built_in">map</span> &#123; $<span class="number">0</span> + <span class="string">"&amp;"</span> &#125; ?? <span class="string">""</span>) + query(parameters)</div><div class="line">        <span class="type">URLComponents</span>.percentEncodedQuery = percentEncodedQuery</div><div class="line">        mutableURLRequest.<span class="type">URL</span> = <span class="type">URLComponents</span>.<span class="type">URL</span></div><div class="line">    &#125;</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="keyword">if</span> mutableURLRequest.valueForHTTPHeaderField(<span class="string">"Content-Type"</span>) == <span class="literal">nil</span> &#123;</div><div class="line">        mutableURLRequest.setValue(</div><div class="line">            <span class="string">"application/x-www-form-urlencoded; charset=utf-8"</span>,</div><div class="line">            forHTTPHeaderField: <span class="string">"Content-Type"</span></div><div class="line">        )</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    mutableURLRequest.<span class="type">HTTPBody</span> = query(parameters).dataUsingEncoding(</div><div class="line">        <span class="type">NSUTF8StringEncoding</span>,</div><div class="line">        allowLossyConversion: <span class="literal">false</span></div><div class="line">    )</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™é‡Œå‚è€ƒå­¦é•¿ç»™çš„å»ºè®®ï¼Œå°†requestå…ˆè‡ªå·±ç¼–ç åå†è¿›è¡Œä¼ è¾“ã€‚é¦–å…ˆå°è£…äº†è‡ªå®šä¹‰ç¼–ç requestæ–¹æ³•ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">urlRequestWithComponents</span><span class="params">(urlString:String,parameters:[String: AnyObject])</span></span> -&gt; (<span class="type">URLRequestConvertible</span>,<span class="type">NSData</span>) &#123;</div><div class="line">    </div><div class="line">    <span class="comment">// create  url request to send</span></div><div class="line">    <span class="keyword">let</span> mutableURLRequest = <span class="type">NSMutableURLRequest</span>(<span class="type">URL</span>: <span class="type">NSURL</span>(string: urlString)!)</div><div class="line">    mutableURLRequest.<span class="type">HTTPMethod</span> = <span class="type">Alamofire</span>.<span class="type">Method</span>.<span class="type">POST</span>.rawValue</div><div class="line">    <span class="keyword">let</span> contentType = <span class="string">"application/x-www-form-urlencoded"</span></div><div class="line">    mutableURLRequest.setValue(contentType, forHTTPHeaderField: <span class="string">"Content-Type"</span>)</div><div class="line">    mutableURLRequest.setValue(<span class="string">"http://nic.ahnu.edu.cn/cgi-bin/service"</span>, forHTTPHeaderField: <span class="string">"Referer"</span>)</div><div class="line">    </div><div class="line">    <span class="comment">// add parameters</span></div><div class="line">    <span class="keyword">let</span> uploadData = <span class="type">NSMutableData</span>()</div><div class="line">    <span class="keyword">for</span> (key,value) <span class="keyword">in</span> parameters &#123;</div><div class="line">        uploadData.appendData(<span class="string">"<span class="subst">\(key)</span>=<span class="subst">\(value)</span>&amp;"</span>.dataUsingEncoding(<span class="type">GB2312Encoding</span>)!)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> (<span class="type">Alamofire</span>.<span class="type">ParameterEncoding</span>.<span class="type">URL</span>.encode(mutableURLRequest, parameters: <span class="literal">nil</span>).<span class="number">0</span>,uploadData)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> urlRequest = urlRequestWithComponents(<span class="type">SchoolNetWorkBaseURL</span></div><div class="line">, parameters:[<span class="string">"username"</span>:<span class="string">"****"</span>,<span class="string">"credential"</span>:<span class="keyword">self</span>.credential,<span class="string">"logtbl"</span>:<span class="string">"int201607"</span>,<span class="string">"echo"</span>:<span class="string">"æŸ¥è¯¢"</span>,<span class="string">"func"</span>:<span class="string">"è®¡è´¹ç½‘å…³"</span>])</div><div class="line"> </div><div class="line"><span class="type">Alamofire</span>.upload(urlRequest.<span class="number">0</span>, data: urlRequest.<span class="number">1</span>).response &#123;</div><div class="line">    request, response, data, error <span class="keyword">in</span></div><div class="line">    </div><div class="line">    <span class="keyword">let</span> htmlString:<span class="type">String</span> = <span class="type">NSString</span>(data: data!, encoding: <span class="type">GB2312Encoding</span>)! <span class="keyword">as</span> <span class="type">String</span></div><div class="line">    <span class="built_in">print</span>(htmlString)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h1&gt;&lt;p&gt;è¿‡å®Œå¹´åœ¨å­¦æ ¡åº¦è¿‡å¤§å­¦çš„æœ€åä¸€å­¦æœŸï¼ŒæœŸé—´åŠ æ·±å­¦ä¹ äº†Pythonçš„Djangoå’ŒiOSå¼€å‘ã€‚åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œå°±æƒ³ç€ä¸´èµ°å‰åšä¸€ä¸ªæ ¡å›­åº”ç”¨ã€‚ç”±äºæˆ‘ä»¬
    
    </summary>
    
      <category term="å¼€å‘" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/iOS/"/>
    
    
      <category term="Swift" scheme="https://huangshuai-iot.github.io/tags/Swift/"/>
    
      <category term="Alamofire" scheme="https://huangshuai-iot.github.io/tags/Alamofire/"/>
    
      <category term="æ¨¡æ‹Ÿç™»é™†" scheme="https://huangshuai-iot.github.io/tags/%E6%A8%A1%E6%8B%9F%E7%99%BB%E9%99%86/"/>
    
  </entry>
  
  <entry>
    <title>Swift ä½¿ç”¨ Alamofire å®ç° GB2312 ç¼–ç çš„ç½‘ç»œè¯·æ±‚</title>
    <link href="https://huangshuai-iot.github.io/2016/08/02/%E4%BD%BF%E7%94%A8Alamofire%E5%AE%9E%E7%8E%B0GB2312%E7%BC%96%E7%A0%81%E7%9A%84%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    <id>https://huangshuai-iot.github.io/2016/08/02/ä½¿ç”¨Alamofireå®ç°GB2312ç¼–ç çš„ç½‘ç»œè¯·æ±‚/</id>
    <published>2016-08-02T06:04:58.000Z</published>
    <updated>2016-10-12T14:19:20.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ€è¿‘åœ¨åšä¸€ä¸ªæ ¡å›­å·¥å…·ï¼Œå…¶ä¸­æœ‰ä¸ªåŠŸèƒ½æ˜¯æŸ¥çœ‹è‡ªå·±æ ¡å›­ç½‘è´¦æˆ·çš„å‰©ä½™æµé‡ã€‚å­¦æ ¡çš„ç½‘ç»œç®¡ç†ä¸­å¿ƒæ²¡æœ‰å¼€æ”¾æ¥å£ï¼Œäºæ˜¯åªèƒ½åˆ©ç”¨Alamofireæ¥æ¨¡æ‹Ÿç™»å½•è§£ææ•°æ®ã€‚ä¸€å¼€å§‹é€šè¿‡GETè¯·æ±‚è·å–ç”¨æˆ·è´¦æˆ·ä½™é¢éƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯é€šè¿‡POSTè¯·æ±‚çš„è¯ï¼Œå°±æ— æ³•æ­£ç¡®è®¿é—®æ•°æ®ã€‚</p>
<h1 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h1><p>ä¹‹å‰çŸ¥é“è¯¥ç½‘ç«™æ˜¯GB2312ç¼–ç çš„ï¼Œäºæ˜¯åœ¨è§£ædataä¸ºHTMLçš„æ—¶å€™å°±ç”¨GB2312è§£ç çš„ã€‚ä½†åœ¨POSTæ•°æ®æ—¶ï¼Œä¹Ÿéœ€è¦GB2312ç¼–ç ã€‚æˆ‘å¼€å§‹æ—¶å°†postçš„stringå‚æ•°ç”¨GB2312ç¼–ç ï¼Œå‘ç°ä¸è¡Œã€‚äºæ˜¯å°±æŸ¥çœ‹äº†Alamofireçš„æºç ï¼Œå‘ç°å…¶é»˜è®¤çš„å‚æ•°ç¼–ç æ˜¯UTF-8ï¼Œè€Œä¸”åªæœ‰è¿™ä¸€ä¸ªé€‰æ‹©ğŸ˜‚ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> mutableURLRequest.valueForHTTPHeaderField(<span class="string">"Content-Type"</span>) == <span class="literal">nil</span> &#123;</div><div class="line">    mutableURLRequest.setValue(<span class="string">"application/x-www-form-urlencoded; charset=utf-8"</span>,forHTTPHeaderField: <span class="string">"Content-Type"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å¾ˆå°´å°¬äº†ã€‚åœ¨Googleæœäº†åŠå¤©ï¼Œä¹Ÿæ²¡æ‰¾åˆ°ç±»ä¼¼çš„é—®é¢˜ã€‚äºæ˜¯é—®äº†æˆ‘ä¸€ä¸ªç»å¸¸æŠ“åŒ…çš„å“¥ä»¬ï¼Œä»–è¯´GB2312ç¼–ç çš„æœåŠ¡å™¨é‡åˆ°çš„æ¬¡æ•°éå¸¸å°‘ã€‚å†åŠ ä¸Šæœ¬æ¥ç”¨swiftæ¨¡æ‹Ÿè¯·æ±‚çš„åœºæ™¯å°±ä¸å¤šäº†ï¼Œéš¾æ€ªæ²¡åŒæ ·çš„é—®é¢˜å‘¢ã€‚è¯•äº†å¾ˆä¹…ï¼Œæˆ‘éƒ½å‡†å¤‡é¸£é‡‘æ”¶å…µäº†ã€‚</p>
<h1 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h1><p>åæ¥é—®äº†å­¦é•¿è¿™ä¸ªé—®é¢˜ï¼Œä»–è¯´å¯ä»¥è‡ªå®šä¹‰Alamofireçš„requestï¼Œåœ¨requestä¸­è¿›è¡Œå‚æ•°çš„GB2312ç¼–ç æˆ–è®¸å¯ä»¥ã€‚äºæ˜¯å¸¦ç€æœ€åä¸€ä¸å¸Œæœ›å»è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°å­¦é•¿çœŸè¡ŒğŸ¤—ã€‚</p>
<p>è‡ªå®šä¹‰Alamofireçš„requestä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="type">GB2312Encoding</span> = <span class="type">CFStringConvertEncodingToNSStringEncoding</span>(<span class="number">0x0632</span>)</div><div class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">urlRequestWithComponents</span><span class="params">(urlString:String,parameters:[String: AnyObject])</span></span> -&gt;(<span class="type">URLRequestConvertible</span>,<span class="type">NSData</span>) &#123;</div><div class="line">        </div><div class="line">    <span class="comment">// create  url request to send</span></div><div class="line">    <span class="keyword">let</span> mutableURLRequest = <span class="type">NSMutableURLRequest</span>(<span class="type">URL</span>: <span class="type">NSURL</span>(string: urlString)!)</div><div class="line">    mutableURLRequest.<span class="type">HTTPMethod</span> = <span class="type">Alamofire</span>.<span class="type">Method</span>.<span class="type">POST</span>.rawValue</div><div class="line">    <span class="keyword">let</span> contentType = <span class="string">"application/x-www-form-urlencoded"</span></div><div class="line">    mutableURLRequest.setValue(contentType, forHTTPHeaderField: <span class="string">"Content-Type"</span>)</div><div class="line">    mutableURLRequest.setValue(<span class="string">"*******"</span>, forHTTPHeaderField: <span class="string">"Referer"</span>)</div><div class="line">        </div><div class="line">    <span class="comment">// add parameters</span></div><div class="line">    <span class="keyword">let</span> uploadData = <span class="type">NSMutableData</span>()</div><div class="line">    <span class="keyword">for</span> (key,value) <span class="keyword">in</span> parameters &#123;</div><div class="line">        uploadData.appendData(<span class="string">"<span class="subst">\(key)</span>=<span class="subst">\(value)</span>&amp;"</span>.dataUsingEncoding(<span class="type">GB2312Encoding</span>)!)</div><div class="line">    &#125;</div><div class="line">        </div><div class="line">    <span class="keyword">return</span> (<span class="type">Alamofire</span>.<span class="type">ParameterEncoding</span>.<span class="type">URL</span>.encode(mutableURLRequest, parameters: <span class="literal">nil</span>).<span class="number">0</span>,uploadData)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è°ƒç”¨è¯¥è‡ªå®šä¹‰Requestçš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> urlRequest = urlRequestWithComponents(<span class="type">SchoolNetWorkBaseURL</span>, parameters: parameters)</div><div class="line"><span class="type">Alamofire</span>.upload(urlRequest.<span class="number">0</span>, data: urlRequest.<span class="number">1</span>).response &#123;</div><div class="line">    request, response, data, error <span class="keyword">in</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é€šè¿‡è¿™ä¸ªï¼Œå°±å¯ä»¥å®ç°ä½¿ç”¨Alamofireå®ç°GB2312ç¼–ç çš„è¯·æ±‚äº†ã€‚</p>
<h1 id="ç•ªå¤–ç¯‡ï¼šå…³äºä½¿ç”¨Alamofireå®ç°gzipå‹ç¼©å‚æ•°çš„ç½‘ç»œè¯·æ±‚"><a href="#ç•ªå¤–ç¯‡ï¼šå…³äºä½¿ç”¨Alamofireå®ç°gzipå‹ç¼©å‚æ•°çš„ç½‘ç»œè¯·æ±‚" class="headerlink" title="ç•ªå¤–ç¯‡ï¼šå…³äºä½¿ç”¨Alamofireå®ç°gzipå‹ç¼©å‚æ•°çš„ç½‘ç»œè¯·æ±‚"></a>ç•ªå¤–ç¯‡ï¼šå…³äºä½¿ç”¨Alamofireå®ç°gzipå‹ç¼©å‚æ•°çš„ç½‘ç»œè¯·æ±‚</h1><p>åœ¨è§£å†³ä¸Šé¢çš„é—®é¢˜æ—¶ï¼Œæˆ‘ä¸€åº¦åå¤±äº†æ–¹å‘ï¼Œä»¥ä¸ºæ˜¯å‚æ•°æ²¡æœ‰å‹ç¼©çš„é—®é¢˜ã€‚ä¸‹é¢è®°å½•ä¸€ä¸‹gzipå‹ç¼©çš„å‚æ•°é—®é¢˜ã€‚</p>
<p>ä¸‹é¢æ˜¯å¯¹ParameterEncodingçš„æ‰©å±•ï¼ŒAlamofireåœ¨è¯·æ±‚çš„requestçš„encodingä¸­ï¼Œé€‰æ‹©ParameterEncoding.gzippedå³å¯ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//  ParameterEncoding-Extension.swift</span></div><div class="line"><span class="comment">//  AHNUer</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//  Created by é»„å¸… on 16/7/28.</span></div><div class="line"><span class="comment">//  Copyright Â© 2016å¹´ å¸…å¸…. All rights reserved.</span></div><div class="line"><span class="comment">//</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> Foundation</div><div class="line"><span class="keyword">import</span> Alamofire</div><div class="line"></div><div class="line"><span class="comment">// Actual gzipping from https://github.com/1024jp/NSData-GZIP</span></div><div class="line"></div><div class="line"><span class="comment">// Example: ParameterEncoding.JSON.gzipped</span></div><div class="line"></div><div class="line"><span class="keyword">infix</span> <span class="keyword">operator</span> â€¢ &#123; <span class="keyword">associativity</span> <span class="keyword">left</span> &#125;</div><div class="line"><span class="function"><span class="keyword">func</span> â€¢ &lt;A, B, C&gt;<span class="params">(f: B -&gt; C, g: A -&gt; B)</span></span> -&gt; <span class="type">A</span> -&gt; <span class="type">C</span> &#123;</div><div class="line">    <span class="keyword">return</span> &#123; x <span class="keyword">in</span> f(g(x)) &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ParameterEncoding</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> gzipped:<span class="type">ParameterEncoding</span> &#123;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> gzip(<span class="keyword">self</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">gzip</span><span class="params">(encoding:ParameterEncoding)</span></span> -&gt; <span class="type">ParameterEncoding</span> &#123;</div><div class="line">        </div><div class="line">        <span class="keyword">let</span> gzipEncoding = <span class="keyword">self</span>.gzipOrError â€¢ encoding.encode</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> <span class="type">ParameterEncoding</span>.<span class="type">Custom</span>(gzipEncoding)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">gzipOrError</span><span class="params">(request:NSURLRequest, error:NSError?)</span></span> -&gt; (<span class="type">NSMutableURLRequest</span>, <span class="type">NSError</span>?) &#123;</div><div class="line">        </div><div class="line">        <span class="keyword">let</span> mutableRequest = request.mutableCopy() <span class="keyword">as</span>! <span class="type">NSMutableURLRequest</span></div><div class="line">        </div><div class="line">        <span class="keyword">if</span> error != <span class="literal">nil</span> &#123;</div><div class="line">            <span class="keyword">return</span> (mutableRequest, error)</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">var</span> gzipEncodingError: <span class="type">NSError</span>? = <span class="literal">nil</span></div><div class="line">        </div><div class="line">        <span class="keyword">do</span> &#123;</div><div class="line">            <span class="keyword">let</span> gzippedData = <span class="keyword">try</span> mutableRequest.<span class="type">HTTPBody</span>?.gzippedData()</div><div class="line">            mutableRequest.<span class="type">HTTPBody</span> = gzippedData</div><div class="line">            </div><div class="line">            <span class="keyword">if</span> mutableRequest.<span class="type">HTTPBody</span> != <span class="literal">nil</span> &#123;</div><div class="line">                mutableRequest.setValue(<span class="string">"gzip"</span>, forHTTPHeaderField: <span class="string">"Content-Encoding"</span>)</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">catch</span> &#123;</div><div class="line">            gzipEncodingError = error <span class="keyword">as</span> <span class="type">NSError</span></div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> (mutableRequest, gzipEncodingError)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul>
<li><a href="http://www.hangge.com/blog/cache/detail_1032.html" target="_blank" rel="external">Swift - ä½¿ç”¨gzipå‹ç¼©NSDataæ•°æ®</a></li>
<li><a href="https://gist.github.com/blender/923f1c1de2f00514ed12" target="_blank" rel="external">blender/ParameterEncodingExt</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h1&gt;&lt;p&gt;æœ€è¿‘åœ¨åšä¸€ä¸ªæ ¡å›­å·¥å…·ï¼Œå…¶ä¸­æœ‰ä¸ªåŠŸèƒ½æ˜¯æŸ¥çœ‹è‡ªå·±æ ¡å›­ç½‘è´¦æˆ·çš„å‰©ä½™æµé‡ã€‚å­¦æ ¡çš„ç½‘ç»œç®¡ç†ä¸­å¿ƒæ²¡æœ‰å¼€æ”¾æ¥å£ï¼Œäºæ˜¯åªèƒ½åˆ©ç”¨Alamofireæ¥æ¨¡æ‹Ÿç™»å½•è§£
    
    </summary>
    
      <category term="å¼€å‘" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/iOS/"/>
    
    
      <category term="Swift" scheme="https://huangshuai-iot.github.io/tags/Swift/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/tags/iOS/"/>
    
      <category term="Alamofire" scheme="https://huangshuai-iot.github.io/tags/Alamofire/"/>
    
      <category term="GB2312ç¼–ç " scheme="https://huangshuai-iot.github.io/tags/GB2312%E7%BC%96%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>iOS ä¸€ä¸ª UITextView çš„å° Bug</title>
    <link href="https://huangshuai-iot.github.io/2016/07/28/%E4%B8%80%E4%B8%AAUITextView%E7%9A%84%E5%B0%8FBug/"/>
    <id>https://huangshuai-iot.github.io/2016/07/28/ä¸€ä¸ªUITextViewçš„å°Bug/</id>
    <published>2016-07-28T06:55:25.000Z</published>
    <updated>2016-10-12T14:18:58.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h1><p>ä»Šå¤©ä¸Šåˆæµ‹è¯•æäº†ä¸€ä¸ªå¾ˆç¥å¥‡çš„Bugï¼Œåœ¨è¾“å…¥æ¡†è¾“å…¥æŸäº›iOSè‡ªå¸¦çš„è¡¨æƒ…ï¼Œåˆ é™¤åä¼šæœ‰æ®‹ç•™ç‰©ã€‚ä¾‹å¦‚ï¼šğŸ’ºğŸ’ºğŸ’ºçœ‹åˆ°è¿™ä¸ªBugï¼Œæˆ‘çš„å†…å¿ƒæ˜¯è§‰å¾—ä¸å¯èƒ½å•Šã€‚ç„¶åäº²è‡ªè¯•äº†ä¸€ä¸‹ï¼Œå‘ç°çœŸä¼šè¿™æ ·ã€‚è‡³æ­¤ï¼Œæˆ‘å‘è‡ªå†…å¿ƒä½©æœäº†æˆ‘å¸çš„æµ‹è¯•ï¼Œè¿™ç§é—®é¢˜éƒ½èƒ½å‘ç°ã€‚</p>
<p>æˆ‘æƒ³ï¼Œè¿™ä»…ä»…å°±æ˜¯ä¸€ä¸ªUITextViewï¼Œåº”è¯¥ä¸ä¼šæˆ‘å†™çš„æ˜¯ä¸ªä¾‹ï¼Œäºæ˜¯ï¼Œæˆ‘æ‰¾äº†å¾®ä¿¡è¯•äº†ä¸€ä¸‹,è¿™æ˜¯å¾®ä¿¡çš„ä¸ªäººç­¾åæ¡†ï¼Œåœ¨è¾“å…¥å®Œè¡¨æƒ…åï¼Œå†åˆ é™¤ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåé¢ç•™äº†ä¸€ä¸²æ®‹ç•™ç‰©ã€‚<br><img src="/uploads/blog/1-1.jpg" alt="å¾®ä¿¡ä¸ŠBugå¤ç°"><br>æˆ‘æœ¬æ¥æƒ³ç›´æ¥å…³äº†è¿™ä¸ªBugï¼Œæ¯•ç«Ÿå¾®ä¿¡è¿™ç§å¤§å‚çš„Appéƒ½èƒ½å…è®¸è¿™ä¸ªBugã€‚åæ¥ä¸€æƒ³ï¼Œä¹Ÿè®¸æ˜¯ä»–ä»¬çš„æµ‹è¯•æ²¡æœ‰æˆ‘ä»¬çš„ç‰›é€¼ã€‚</p>
<h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p>å¾®ä¿¡çš„è¿™ä¸ªBugå¤ç°ï¼Œåœ¨ä¿å­˜åå†è¿›å»ï¼Œå°±ä¼šå‘ç°æ®‹ç•™ç‰©æ²¡æœ‰äº†ã€‚æ‰€ä»¥è§£å†³æ€è·¯æ˜¯ï¼Œåœ¨UITextViewä¸€è¾¹è¾“å…¥ï¼Œä¸€è¾¹ç»™å®ƒèµ‹å€¼ã€‚äºæ˜¯å®ç°äº†<code>UITextViewDelegate</code>çš„<code>textViewDidChange</code>æ–¹æ³•ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">FMPersonEditSignVC</span> : <span class="title">UITextViewDelegate</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">textViewDidChange</span><span class="params">(textView:UITextView)</span></span> &#123;</div><div class="line">        <span class="keyword">self</span>.textView.text = textView.text</div><div class="line">    &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="ç•ªå¤–ç¯‡"><a href="#ç•ªå¤–ç¯‡" class="headerlink" title="ç•ªå¤–ç¯‡"></a>ç•ªå¤–ç¯‡</h1><p>è¯´åˆ°<code>UITextViewDelegate</code>ï¼Œæˆ‘åˆæƒ³èµ·æ¥ä¹‹å‰æçš„ä¸€ä¸ªBugã€‚æˆ‘ä»¬çš„baseVCä¸­éƒ½åŠ äº†ç‚¹å‡»ç©ºç™½é¡µéšè—é”®ç›˜çš„åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨æŸäº›å°å±å¹•æœºå‹ä¸­ï¼Œæ¯”å¦‚iPhone5ä¸Šï¼Œå¦‚æœUITextViewçš„é«˜åº¦è®¾ç½®çš„æ¯”è¾ƒé«˜ï¼Œç”¨æˆ·å°±ç‚¹å‡»ä¸åˆ°ç©ºç™½é¡µï¼ˆæˆ‘å½“æ—¶ç»™æµ‹è¯•æ¼”ç¤ºï¼Œç”¨é¼ æ ‡ç‚¹å‡»çš„ï¼Œæˆ‘è¯´è¿™å¾ˆå¥½ç‚¹å•Šï¼Œå“ˆå“ˆå“ˆå“ˆï¼‰ï¼Œè¿›è€Œå°±éšè—ä¸äº†é”®ç›˜ã€‚</p>
<p>è¿™é‡Œå¦‚æœå»é‡æ–°ç”»UIè®¾ç½®çº¦æŸï¼Œæˆ‘æ„Ÿè§‰åŠ³åŠ¨é‡å¤ªå¤§äº†ï¼Œäºæ˜¯å°±æƒ³ç€ç”¨æˆ·åœ¨è¾“å…¥å®Œå›è½¦é”®å¯ä»¥éšè—é”®ç›˜ã€‚å¦å¤–ï¼ŒiOSçš„é”®ç›˜çš„å›è½¦é”®æ˜¯å¯ä»¥è‡ªå®šä¹‰è®¾ç½®çš„ï¼Œæˆ‘å°†Return Keyè®¾ç½®æ˜¾ç¤ºä¸ºâ€œDoneâ€ï¼Œæ›´ä¾¿äºç”¨æˆ·ç†è§£ã€‚</p>
<p>æ£€æµ‹ç”¨æˆ·è¾“å…¥å›è½¦çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">FMPersonEditSignVC</span> : <span class="title">UITextViewDelegate</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">textView</span><span class="params">(textView: UITextView, shouldChangeTextInRange range: NSRange, replacementText text: String)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">        <span class="keyword">if</span> text == <span class="string">"\n"</span> &#123;</div><div class="line">            textView.resignFirstResponder()</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;èµ·å› &quot;&gt;&lt;a href=&quot;#èµ·å› &quot; class=&quot;headerlink&quot; title=&quot;èµ·å› &quot;&gt;&lt;/a&gt;èµ·å› &lt;/h1&gt;&lt;p&gt;ä»Šå¤©ä¸Šåˆæµ‹è¯•æäº†ä¸€ä¸ªå¾ˆç¥å¥‡çš„Bugï¼Œåœ¨è¾“å…¥æ¡†è¾“å…¥æŸäº›iOSè‡ªå¸¦çš„è¡¨æƒ…ï¼Œåˆ é™¤åä¼šæœ‰æ®‹ç•™ç‰©ã€‚ä¾‹å¦‚ï¼šğŸ’ºğŸ’ºğŸ’ºçœ‹åˆ°è¿™ä¸ªBugï¼Œæˆ‘çš„å†…å¿ƒæ˜¯è§‰å¾—ä¸å¯
    
    </summary>
    
      <category term="å¼€å‘" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/iOS/"/>
    
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/tags/iOS/"/>
    
      <category term="UITextView" scheme="https://huangshuai-iot.github.io/tags/UITextView/"/>
    
  </entry>
  
  <entry>
    <title>Android:é˜¿é‡Œç™¾å·ã€å‹ç›Ÿæ¨é€SDKé›†æˆé—®é¢˜</title>
    <link href="https://huangshuai-iot.github.io/2015/12/07/%E9%98%BF%E9%87%8C%E7%99%BE%E5%B7%9D%E3%80%81%E5%8F%8B%E7%9B%9F%E6%8E%A8%E9%80%81SDK%E9%9B%86%E6%88%90/"/>
    <id>https://huangshuai-iot.github.io/2015/12/07/é˜¿é‡Œç™¾å·ã€å‹ç›Ÿæ¨é€SDKé›†æˆ/</id>
    <published>2015-12-07T07:50:15.000Z</published>
    <updated>2016-08-09T08:39:25.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æˆ‘åœ¨å®‰å“é¡¹ç›®ä¸­å…ˆé›†æˆäº†é˜¿é‡Œç™¾å·å³æ—¶é€šè®¯çš„SDKï¼Œååˆé›†æˆå‹ç›Ÿçš„æ¶ˆæ¯æ¨é€SDKï¼Œé¡¹ç›®ç¼–è¯‘çš„æ—¶å€™å°±ä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Multiple dex files define Lcom/ta/utdid2/android/utils/UTDID</div></pre></td></tr></table></figure>
<p>æŠ¥é”™è¯´çš„å¾ˆæ¸…æ¥š:æ˜¯é¡¹ç›®å¼•ç”¨çš„JARåŒ…æœ‰é‡å¤çš„åœ°æ–¹ã€‚åå‘ç°é›†æˆé˜¿é‡Œç³»çš„SDKï¼ˆæ”¯ä»˜å®ç­‰ï¼‰éƒ½ä¼šå‡ºç°æ­¤é”™è¯¯ã€‚</p>
<h2 id="é”™è¯¯åŸå› "><a href="#é”™è¯¯åŸå› " class="headerlink" title="é”™è¯¯åŸå› "></a>é”™è¯¯åŸå› </h2><p>1.å‹ç›Ÿæ¨é€SDKä¸ºäº†æé«˜è®¾å¤‡æ ‡è¯†çš„å”¯ä¸€æ€§ï¼Œé™¤äº†UMIDä¹‹å¤–ï¼Œè¿˜ç”¨åˆ°äº†Taobaoæä¾›çš„ä¸€ä¸ªè®¾å¤‡æ ‡è¯†ç”Ÿæˆåº“(UTDID.jar)åšåŒå‘ä¿è¯ã€‚å½“å‰æ¨é€SDKå…¼å®¹çš„UDIDç‰ˆæœ¬æ˜¯V1.1.0ã€‚</p>
<p>2.æ·˜å®æä¾›çš„è®¾å¤‡æ ‡è¯†ç”Ÿæˆåº“(UTDID.jar)å·²ç»å¹¿æ³›åº”ç”¨åœ¨é˜¿é‡Œç³»çš„Appä¸­äº†ï¼ŒåŒ…æ‹¬æ”¯ä»˜å®ã€‚éƒ¨åˆ†é›†æˆè¿‡æ”¯ä»˜å®SDKçš„Appï¼Œåœ¨é›†æˆå‹ç›Ÿæ¨é€SDKçš„æ—¶å€™ï¼Œä¼šå­˜åœ¨åŒ…å†²çªçš„é—®é¢˜ã€‚ ä¸ºæ­¤æˆ‘ä»¬æä¾›äº†å»UTDIDç‰ˆæœ¬çš„SDKä¾›å¼€å‘è€…é›†æˆä½¿ç”¨</p>
<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>1.åˆ°å‹ç›Ÿ<a href="http://dev.umeng.com/push/android/sdk-download" target="_blank" rel="external">SDKä¸‹è½½é¡µ</a>å»ä¸‹è½½å»UTDIDç‰ˆæœ¬çš„SDKï¼Œå†é›†æˆåˆ°å®‰å“é¡¹ç›®ä¸­</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æˆ‘åœ¨å®‰å“é¡¹ç›®ä¸­å…ˆé›†æˆäº†é˜¿é‡Œç™¾å·å³æ—¶é€šè®¯çš„SDKï¼Œååˆé›†æˆå‹ç›Ÿçš„æ¶ˆæ¯æ¨é€SDKï¼Œé¡¹ç›®ç¼–è¯‘çš„æ—¶å€™å°±ä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ã€‚&lt;/p&gt;
&lt;figure cla
    
    </summary>
    
      <category term="å¼€å‘" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/iOS/"/>
    
    
      <category term="Android" scheme="https://huangshuai-iot.github.io/tags/Android/"/>
    
      <category term="é˜¿é‡Œç™¾å·" scheme="https://huangshuai-iot.github.io/tags/%E9%98%BF%E9%87%8C%E7%99%BE%E5%B7%9D/"/>
    
      <category term="å‹ç›Ÿæ¨é€" scheme="https://huangshuai-iot.github.io/tags/%E5%8F%8B%E7%9B%9F%E6%8E%A8%E9%80%81/"/>
    
  </entry>
  
  <entry>
    <title>iOS Swift Xcode7 çš„ APNS ä½¿ç”¨</title>
    <link href="https://huangshuai-iot.github.io/2015/12/02/iOS9-Swift2-Xcode7%E7%9A%84APNS%E4%BD%BF%E7%94%A8/"/>
    <id>https://huangshuai-iot.github.io/2015/12/02/iOS9-Swift2-Xcode7çš„APNSä½¿ç”¨/</id>
    <published>2015-12-02T12:55:15.000Z</published>
    <updated>2016-10-12T14:19:38.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="iOS9-Swift2-Xcode7çš„APNSä½¿ç”¨"><a href="#iOS9-Swift2-Xcode7çš„APNSä½¿ç”¨" class="headerlink" title="iOS9-Swift2-Xcode7çš„APNSä½¿ç”¨"></a>iOS9-Swift2-Xcode7çš„APNSä½¿ç”¨</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åœ¨å¼€å‘åŸºäºé˜¿é‡Œç™¾å·çš„å³æ—¶é€šä¿¡åŠŸèƒ½ï¼Œå…¶ä¸­å¯¹äºiOSå¹³å°çš„æ¶ˆæ¯æ¨é€æ˜¯è¦ä½¿ç”¨è‹¹æœçš„APNSæœåŠ¡çš„ï¼Œå¯¹äºè¿™ä¸ªæœåŠ¡ä¸å¤ªäº†è§£çš„åŒå­¦ï¼Œå¯ä»¥çœ‹<a href="https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/ApplePushService.html?spm=0.0.0.0.EUOBVe" target="_blank" rel="external">appleå¼€å‘è€…æ–‡æ¡£</a>å­¦ä¹ ä¸€ä¸‹ã€‚</p>
<h2 id="æ€»ç»“ä¸€ä¸‹ä½¿ç”¨APNSæ¨é€çš„æ­¥éª¤ï¼š"><a href="#æ€»ç»“ä¸€ä¸‹ä½¿ç”¨APNSæ¨é€çš„æ­¥éª¤ï¼š" class="headerlink" title="æ€»ç»“ä¸€ä¸‹ä½¿ç”¨APNSæ¨é€çš„æ­¥éª¤ï¼š"></a>æ€»ç»“ä¸€ä¸‹ä½¿ç”¨APNSæ¨é€çš„æ­¥éª¤ï¼š</h2><p>1.iOSåº”ç”¨éœ€è¦å‘APNSç³»ç»Ÿç”³è¯·DeviceToken</p>
<p>2.åº”ç”¨éœ€è¦å‘åº”ç”¨æœåŠ¡å™¨ä¸Šä¼ DeviceToken</p>
<p>3.æœåŠ¡å™¨é€šè¿‡DeviceTokenå‘APNSç³»ç»Ÿæ¨é€æ¶ˆæ¯</p>
<p>4.APNSç³»ç»Ÿå¾€ç”¨æˆ·çš„æ‰‹æœºæ¨é€æ¶ˆæ¯</p>
<h2 id="å®ç°æ­¥éª¤ï¼š"><a href="#å®ç°æ­¥éª¤ï¼š" class="headerlink" title="å®ç°æ­¥éª¤ï¼š"></a>å®ç°æ­¥éª¤ï¼š</h2><h3 id="1-ç”³è¯·DeviceToken"><a href="#1-ç”³è¯·DeviceToken" class="headerlink" title="1.ç”³è¯·DeviceToken"></a>1.ç”³è¯·DeviceToken</h3><p>åœ¨AppDelegate.swiftä¸­çš„application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -&gt; Boolä¸­æ·»åŠ ä»¥ä¸‹å‡½æ•°å‘ç³»ç»Ÿç”³è¯·DeviceToken</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="type">UIApplication</span>.sharedApplication().registerUserNotificationSettings(<span class="type">UIUserNotificationSettings</span>(forTypes: [<span class="type">UIUserNotificationType</span>.<span class="type">Sound</span> , <span class="type">UIUserNotificationType</span>.<span class="type">Alert</span> , <span class="type">UIUserNotificationType</span>.<span class="type">Badge</span>], categories: <span class="literal">nil</span>))</div><div class="line"><span class="type">UIApplication</span>.sharedApplication().registerForRemoteNotifications()</div></pre></td></tr></table></figure>
<h3 id="2-è·å–DeviceToken"><a href="#2-è·å–DeviceToken" class="headerlink" title="2.è·å–DeviceToken"></a>2.è·å–DeviceToken</h3><p>åœ¨AppDelegate.swiftä¸­æ·»åŠ ä¸‹é¢è¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œç”¨äºè·å–DeviceToken</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: NSData)</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> token:<span class="type">String</span> = deviceToken.description.stringByTrimmingCharactersInSet(<span class="type">NSCharacterSet</span>(charactersInString: <span class="string">"&lt;&gt;"</span>))</div><div class="line">    <span class="built_in">print</span>(<span class="string">"token==<span class="subst">\(token)</span>"</span>)</div><div class="line">    <span class="comment">//å°†tokenå‘é€åˆ°æœåŠ¡å™¨</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨é˜¿é‡Œç™¾å·çš„SDKä¸éœ€è¦å°†DeviceTokenå‘é€åˆ°æœåŠ¡å™¨ï¼ŒIMSDKä¼šè‡ªåŠ¨å¾—åˆ°è¯¥DeviceTokenï¼Œä½ æ— é¡»æ‰‹åŠ¨ä¼ ç»™IMSDK</p>
<h3 id="3-è·å–APNSæ¨é€è¯ä¹¦"><a href="#3-è·å–APNSæ¨é€è¯ä¹¦" class="headerlink" title="3.è·å–APNSæ¨é€è¯ä¹¦"></a>3.è·å–APNSæ¨é€è¯ä¹¦</h3><p>åœ¨iOSAppIDsä½ çš„åº”ç”¨é‡Œçš„è¯ä¹¦é‡Œï¼Œç‚¹å‡»editï¼Œæ‰“å¼€Push NotificationsåŠŸèƒ½ï¼Œç„¶åä¼šç”Ÿæˆä¸¤ä¸ªè¯ä¹¦ã€‚Production SSL Certificateå’ŒDevelopment SSL Certificateã€‚å‰é¢æ˜¯ç”Ÿäº§ç¯å¢ƒæ¨é€è¯ä¹¦ï¼Œåé¢æ˜¯æ²™ç®±ç¯å¢ƒæ¨é€è¯ä¹¦ã€‚å°†å…¶ä¸‹è½½ä¸‹æ¥ï¼Œå¹¶å®‰è£…åˆ°é’¥åŒ™ä¸²ä¸­ã€‚</p>
<p>åœ¨é’¥åŒ™ä¸²åº”ç”¨æ‰¾åˆ°è¿™ä¸¤ä¸ªè¯ä¹¦ï¼Œå³é”®ç‚¹å‡»å¯¼å‡ºï¼Œç”Ÿäº§p12æ ¼å¼ï¼ˆé˜¿é‡Œç™¾å·éœ€è¦p12æ ¼å¼)ï¼Œåœ¨å°†å…¶ä¸Šä¼ åˆ°é˜¿é‡Œç™¾å·çš„æ§åˆ¶å°ã€‚</p>
<h3 id="4-æµ‹è¯•æ¶ˆæ¯æ¨é€"><a href="#4-æµ‹è¯•æ¶ˆæ¯æ¨é€" class="headerlink" title="4.æµ‹è¯•æ¶ˆæ¯æ¨é€"></a>4.æµ‹è¯•æ¶ˆæ¯æ¨é€</h3><p>ä½¿ç”¨<a href="http://pan.baidu.com/s/1ntngmcL" target="_blank" rel="external">è¯¥å·¥å…·</a>,ä½¿ç”¨ä½ ä¸Šä¼ çš„è¯ä¹¦ï¼Œå‘è®¾å¤‡æ§åˆ¶å°æ‰“å°å‡ºçš„DeviceTokenï¼Œå‘é€ä¸€æ¡Pushï¼Œç¡®è®¤æ˜¯å¦å¯ä»¥æ”¶åˆ°Pushã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šé¡¹ç›®çš„è¯ä¹¦è¦å’Œæ¨é€è¯ä¹¦çš„ç±»å‹ä¸€è‡´ï¼Œè‹¥æ˜¯Disturbutionè¯ä¹¦å°±å¾—ä½¿ç”¨Production SSL Certificateï¼Œè‹¥æ˜¯Developerè¯ä¹¦å°±å¾—ä½¿ç”¨Development SSL Certificateã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;iOS9-Swift2-Xcode7çš„APNSä½¿ç”¨&quot;&gt;&lt;a href=&quot;#iOS9-Swift2-Xcode7çš„APNSä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;iOS9-Swift2-Xcode7çš„APNSä½¿ç”¨&quot;&gt;&lt;/a&gt;iOS9-Swift2
    
    </summary>
    
      <category term="å¼€å‘" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/iOS/"/>
    
    
      <category term="Swift" scheme="https://huangshuai-iot.github.io/tags/Swift/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/tags/iOS/"/>
    
      <category term="APNSæ¨é€" scheme="https://huangshuai-iot.github.io/tags/APNS%E6%8E%A8%E9%80%81/"/>
    
  </entry>
  
  <entry>
    <title>iOS:é˜¿é‡Œç™¾å·å³æ—¶é€šè®¯åŠŸèƒ½</title>
    <link href="https://huangshuai-iot.github.io/2015/12/02/%E9%98%BF%E9%87%8C%E7%99%BE%E5%B7%9D%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E5%8A%9F%E8%83%BD-iOS%E5%BC%80%E5%8F%91/"/>
    <id>https://huangshuai-iot.github.io/2015/12/02/é˜¿é‡Œç™¾å·å³æ—¶é€šè®¯åŠŸèƒ½-iOSå¼€å‘/</id>
    <published>2015-12-02T12:55:15.000Z</published>
    <updated>2016-08-09T08:39:40.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨<a href="../../../../2015/11/06/iOS-webAppå®¢æˆ·ç«¯å¼€å‘-å°è®°/">iOS-webAppå®¢æˆ·ç«¯å¼€å‘å°è®°</a> çš„æœ€åï¼Œæˆ‘æåˆ°æˆ‘ä»¬å…¬å¸çš„äº§å“éœ€è¦åœ¨ç°æœ‰äº§å“ç»“æ„ä¸­åŠ å…¥å³æ—¶é€šè®¯åŠŸèƒ½ã€‚ç»è¿‡å¯¹ç°æœ‰ç¬¬ä¸‰æ–¹å³æ—¶é€šè®¯äº§å“çš„è¯•ç”¨å’Œåˆ†æï¼Œæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©äº†é˜¿é‡Œç™¾å·æä¾›çš„åŠæ—¶é€šè®¯åŠŸèƒ½ã€‚</p>
<h2 id="é¡¹ç›®éœ€æ±‚"><a href="#é¡¹ç›®éœ€æ±‚" class="headerlink" title="é¡¹ç›®éœ€æ±‚"></a>é¡¹ç›®éœ€æ±‚</h2><p>1.å­¦ç”Ÿä¸è€å¸ˆä¹‹é—´è¦èƒ½æ²Ÿé€šï¼ˆå•èŠï¼‰</p>
<p>2.åœ¨åŒä¸€é—¨è¯¾ç¨‹ä¸­ï¼Œè€å¸ˆä¸å­¦ç”Ÿä»¬åœ¨ä¸€ä¸ªèŠå¤©ç¾¤é‡Œï¼ˆç¾¤èŠï¼‰</p>
<p>3.å­¦ç”Ÿå’Œè€å¸ˆè¦å¯ä»¥å’Œæˆ‘ä»¬å…¬å¸çš„æŠ€æœ¯æ”¯æŒäººå‘˜èƒ½æ²Ÿé€šï¼ˆå®¢æœï¼‰</p>
<h2 id="æŠ€æœ¯é€‰å‹"><a href="#æŠ€æœ¯é€‰å‹" class="headerlink" title="æŠ€æœ¯é€‰å‹"></a>æŠ€æœ¯é€‰å‹</h2><p>å‰æœŸè°ƒç ”äº†å®¹è”äº‘ã€LeanCloudã€ç¯ä¿¡ã€Bmobã€é˜¿é‡Œç™¾å·ã€å‹ç›Ÿç­‰ä¸€äº›åšå³æ—¶é€šä¿¡æœåŠ¡çš„ç¬¬ä¸‰æ–¹æœåŠ¡ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦å…¶æä¾›iOSã€Androidã€h5ã€Javaçš„SDKï¼Œæ¥ç€è¯•ç”¨äº†ä»–ä»¬çš„Demoï¼Œç„¶åçœ‹ä»–ä»¬çš„å¼€å‘æ–‡æ¡£æ˜¯å¦è¯¦å°½ï¼ˆå…¬å¸ä¸å…¬å¸ä¹‹é—´çš„å¼€å‘æ–‡æ¡£çœŸçš„å·®è·å¥½å¤§ï¼‰ï¼Œæœ€åçœ‹ä»–ä»¬çš„æŠ€æœ¯å®åŠ›ä¸å…¬å¸å®åŠ›ï¼ˆæ€»ä¸èƒ½æ¯”æˆ‘ä»¬çš„äº§å“å…ˆå€’é—­å§ï¼Œå“ˆå“ˆï¼‰ã€‚</p>
<p>æœ€åé€‰ä¸­äº†é˜¿é‡Œç™¾å·ï¼Œé¦–å…ˆå…¶æ˜¯é˜¿é‡Œæ— çº¿äº‹ä¸šéƒ¨ä¸‹å±çš„ï¼Œä»–ä»¬çš„æŠ€æœ¯å®åŠ›å’Œå…¬å¸å®åŠ›ä¸ç”¨æ€€ç–‘ã€‚å…¶å®æˆ‘ç¬¬ä¸€çœ¼çœ‹ä¸­çš„è¿˜æ˜¯ä»–ä»¬çš„å¼€å‘æ–‡æ¡£ï¼Œéå¸¸çš„å®Œå–„ï¼Œå…¶æ¬¡æ˜¯è¿™ä¸ªé¡¹ç›®åº”è¯¥å¼€å§‹ä¸ä¹…ï¼Œä»–ä»¬çš„æŠ€æœ¯æ”¯æŒéå¸¸ç»™åŠ›ï¼Œä¸€çº¿çš„å¼€å‘äººå‘˜åœ¨å……å½“å®¢æœï¼Œåœ¨å¼€å‘çš„æ—¶å€™è¿˜è·Ÿä»–ä»¬æ‰“äº†å¥½å‡ é€šç”µè¯ï¼ŒæŠ€æœ¯æ”¯æŒéå¸¸çš„æ£’ã€‚</p>
<h2 id="é¡¹ç›®å¼€å‘"><a href="#é¡¹ç›®å¼€å‘" class="headerlink" title="é¡¹ç›®å¼€å‘"></a>é¡¹ç›®å¼€å‘</h2><p>è¿™é‡Œè®²çš„æ˜¯iOSç«¯å¦‚ä½•æ•´åˆé˜¿é‡Œç™¾å·çš„SDKã€‚æˆ‘é‡‡ç”¨çš„æ˜¯Swiftå¼€å‘ï¼Œè€Œé˜¿é‡Œç™¾å·æä¾›çš„å®˜æ–¹æ–‡æ¡£æ˜¯é’ˆå¯¹Objective-Cé¡¹ç›®çš„ï¼Œæ‰€ä»¥åœ¨æ­¤è®°å½•ä¸€ä¸‹Swifté¡¹ç›®æ˜¯æ€æ ·æ•´åˆçš„ã€‚ä¸‹é¢ä¸»è¦ä»‹ç»å¿«é€Ÿé›†æˆå’ŒAPNSæ¨é€ï¼Œç›¸ä¿¡é€šè¿‡è¿™ä¸¤ç‚¹ï¼Œå°±ä¼šå¯¹å¦‚ä½•åœ¨Swiftä¸­è°ƒç”¨IMSDKç›¸å…³åŠŸèƒ½æœ‰ä¸ªäº†è§£ï¼Œé‚£ä¹ˆå…¶ä»–åŠŸèƒ½è°ƒç”¨ä¹Ÿä¼šå®¹æ˜“å®ç°ã€‚</p>
<h3 id="1-å¿«é€Ÿé›†æˆ"><a href="#1-å¿«é€Ÿé›†æˆ" class="headerlink" title="1.å¿«é€Ÿé›†æˆ"></a>1.å¿«é€Ÿé›†æˆ</h3><h4 id="Step1-Step5-å¼•å…¥IMSDK"><a href="#Step1-Step5-å¼•å…¥IMSDK" class="headerlink" title="Step1-Step5 å¼•å…¥IMSDK"></a>Step1-Step5 å¼•å…¥IMSDK</h4><p>æŒ‰ç…§é˜¿é‡Œç™¾å·çš„å³æ—¶é€šä¿¡æœåŠ¡çš„å¿«é€Ÿé›†æˆæ–‡æ¡£ï¼Œå®ŒæˆStep1-Step5éƒ½æ˜¯æ²¡æœ‰ä»€ä¹ˆé—®é¢˜çš„ã€‚ç™¾å·æä¾›äº†éå¸¸å¥½çš„èƒ¶æ°´ä»£ç ï¼ˆå°†æˆ‘ä»¬çš„Appå’ŒIMSDKç²˜åˆèµ·æ¥çš„ä¸­é—´ä»£ç ï¼‰ï¼Œå…¶ä¸­åŒ…å«å¯¹IMSDKä¸»æµç¨‹æ¥å£çš„è°ƒç”¨ä»£ç ï¼Œä¾‹å¦‚åˆå§‹åŒ–ã€ç™»å½•å‡†å¤‡ã€ç™»å½•ã€æ³¨é”€ã€æ‰“å¼€ä¼šè¯åˆ—è¡¨ã€æ‰“å¼€èŠå¤©é¡µé¢ã€‚<br>é€šè¿‡è°ƒç”¨ã€å­¦ä¹ èƒ¶æ°´ä»£ç å¯ä»¥ä¸ºæˆ‘ä»¬åæœŸè‡ªå·±ç›´æ¥æ“ä½œIMSDKæ¥å®šåˆ¶åŠŸèƒ½æä¾›æ–¹å‘ã€‚</p>
<p>åœ¨æ‹–å…¥èƒ¶æ°´ä»£ç åå°±æ˜¯åˆå§‹åŒ–IMSDKï¼Œç”±äºèƒ¶æ°´ä»£ç æ˜¯OCæ–‡ä»¶ï¼Œåœ¨Swifté¡¹ç›®ä¸­éœ€è¦å»ºç«‹æ¡¥æ¥å¤´æ–‡ä»¶ï¼Œè¿™é‡Œå¯ä»¥å·ä¸ªæ‡’ï¼Œç›´æ¥åœ¨é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ªOCæ–‡ä»¶ï¼Œç„¶åä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ¡¥æ¥å¤´æ–‡ä»¶ï¼Œç„¶åå†æŠŠåˆšæ‰è¿™ä¸ªOCæ–‡ä»¶åˆ é™¤å³å¯ï¼Œè¿™æ ·å¯ä»¥çœå»åœ¨é¡¹ç›®ä¸­é…ç½®æ¡¥æ¥å¤´æ–‡ä»¶è¿™ä¸€æ­¥ã€‚æ¥ç€ï¼Œåœ¨æ¡¥æ¥å¤´æ–‡ä»¶ä¸­ï¼Œå¼•å…¥èƒ¶æ°´ä»£ç çš„å¤´æ–‡ä»¶ï¼š<code>#import &quot;SPKitExample.h&quot;</code></p>
<h4 id="Step6-åˆå§‹åŒ–IMSDK"><a href="#Step6-åˆå§‹åŒ–IMSDK" class="headerlink" title="Step6 åˆå§‹åŒ–IMSDK"></a>Step6 åˆå§‹åŒ–IMSDK</h4><p>åœ¨AppDelegate.swiftè°ƒç”¨åŸºç¡€å…¥å£èƒ¶æ°´å‡½æ•°ï¼š<code>callThisInDidFinishLaunching</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="comment">// Override point for customization after application launch.</span></div><div class="line">    <span class="comment">//å‡½æ•°ä¸­åˆå§‹åŒ–IMSDK</span></div><div class="line">        <span class="type">SPKitExample</span>.sharedInstance().callThisInDidFinishLaunching()</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šè¦åˆ°SPKitExample.mé‡ŒexampleInitç™»å½•å‡½æ•°è¿™æŠŠkeyæ¢æˆæˆ‘ä»¬è‡ªå·±ç”³è¯·çš„AppKey</p>
<h4 id="Step7-ç™»å½•IMSDK"><a href="#Step7-ç™»å½•IMSDK" class="headerlink" title="Step7 ç™»å½•IMSDK"></a>Step7 ç™»å½•IMSDK</h4><p>åœ¨ç”¨æˆ·ç™»å½•æˆ‘ä»¬è‡ªå·±Appçš„è´¦å·æˆåŠŸåï¼Œè°ƒç”¨åŸºç¡€å…¥å£èƒ¶æ°´å‡½æ•°callThisAfterISVAccountLoginSuccessWithYWLoginIdï¼Œä½¿å…¶ç™»å½•IMSDKã€‚åœ¨åº”ç”¨é‡Œï¼Œæˆ‘ç”¨Swiftç¨å¾®å°è£…äº†ä¸€ä¸‹ç™»å½•çš„ä»£ç :</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">loginBaichuan</span><span class="params">(userid:String,password:String)</span></span> &#123;</div><div class="line">    <span class="comment">//åº”ç”¨ç™»é™†æˆåŠŸåï¼Œè°ƒç”¨SDK</span></div><div class="line">        <span class="type">SPKitExample</span>.sharedInstance().callThisAfterISVAccountLoginSuccessWithYWLoginId(userid, passWord:password, preloginedBlock: <span class="literal">nil</span>, successBlock: &#123;() -&gt; <span class="type">Void</span> <span class="keyword">in</span> (</div><div class="line"><span class="built_in">print</span>(<span class="string">"å“ˆå“ˆå“ˆï¼Œç™»å½•æˆåŠŸï¼"</span>))&#125;, failedBlock: <span class="literal">nil</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šåœ¨ç”¨æˆ·é€€å‡ºæˆ‘ä»¬çš„Appä¹‹åï¼Œè¿˜éœ€è¦ä½¿å…¶é€€å‡ºIMSDKï¼Œä¸ç„¶Appåœ¨åå°ï¼Œç”¨æˆ·æ²¡æœ‰ç™»å½•æˆ‘ä»¬çš„è´¦å·ä½“ç³»ï¼Œä½†æ˜¯è¿˜ä¼šå—åˆ°æ¥è‡ªå³æ—¶é€šè®¯åŠŸèƒ½çš„æ–°æ¶ˆæ¯æ¨é€ã€‚è¿™æ˜¯é€€å‡ºçš„ä»£ç ï¼š</p>
<p><code>SPKitExample.sharedInstance().callThisBeforeISVAccountLogout()</code></p>
<h4 id="Step8-æ‰“å¼€ä¼šè¯åˆ—è¡¨å’ŒèŠå¤©é¡µé¢"><a href="#Step8-æ‰“å¼€ä¼šè¯åˆ—è¡¨å’ŒèŠå¤©é¡µé¢" class="headerlink" title="Step8 æ‰“å¼€ä¼šè¯åˆ—è¡¨å’ŒèŠå¤©é¡µé¢"></a>Step8 æ‰“å¼€ä¼šè¯åˆ—è¡¨å’ŒèŠå¤©é¡µé¢</h4><ol>
<li><p>æ‰“å¼€ä¼šè¯åˆ—è¡¨</p>
<p> æˆ‘ä»¬appé‡‡ç”¨çš„æ˜¯UINavigationControlleræ–¹å¼ï¼Œæ‰€ä»¥æ‰“å¼€ä¼šè¯åˆ—è¡¨çš„ä»£ç å¦‚ä¸‹ï¼š</p>
 <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">openTalkList</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">let</span> result:<span class="type">YWConversationListViewController</span> = <span class="type">SPKitExample</span>.sharedInstance().ywIMKit.makeConversationListViewController()</div><div class="line">    result.title = <span class="string">"æœ€è¿‘è”ç³»äºº"</span></div><div class="line">    result.setDidSelectItemBlock &#123; (<span class="type">YWConversation</span>) -&gt; <span class="type">Void</span> <span class="keyword">in</span> (</div><div class="line">        <span class="type">SPKitExample</span>.sharedInstance().exampleOpenConversationViewControllerWithConversation(<span class="type">YWConversation</span>, fromNavigationController: <span class="keyword">self</span>.navigationController))</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">self</span>.navigationController?.navigationBarHidden = <span class="literal">false</span></div><div class="line">    <span class="keyword">self</span>.navigationController?.pushViewController(result, animated: <span class="literal">true</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>æ‰“å¼€å•èŠé¡µé¢</p>
<p> æˆ‘ç›´æ¥è°ƒç”¨æ˜¯èƒ¶æ°´å‡½æ•°é‡Œé¢çš„<code>exampleOpenConversationViewControllerWithPerson</code>æ–¹æ³•</p>
 <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">talk2Teacher</span><span class="params">(teacherId:String)</span></span> &#123; </div><div class="line">    <span class="type">SPKitExample</span>.sharedInstance().exampleOpenConversationViewControllerWithPerson(<span class="type">YWPerson</span>(personId:teacherId),fromNavigationController:<span class="keyword">self</span>.navigationController)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>æ‰“å¼€ç¾¤èŠç•Œé¢</p>
<p> é˜¿é‡Œç™¾å·çš„æ–‡æ¡£é‡Œé¢å†™çš„æ˜¯è°ƒç”¨èƒ¶æ°´å‡½æ•°é‡Œé¢çš„<code>exampleOpenConversationViewControllerWithTribe</code>æ–¹æ³•ï¼Œä½†æ˜¯è¯¥æ–¹æ³•è¦æ±‚ä¼ å…¥ä¸€ä¸ª<code>YWTribe</code>ç±»å‹çš„ç¾¤ç»„èŠå¤©å˜é‡ã€‚ç”±äºé˜¿é‡Œç™¾å·å³æ—¶é€šè®¯çš„æ¶æ„æ˜¯è‡ªå»ºè´¦å·ä½“ç³»ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„Appåªèƒ½ä»æœåŠ¡å™¨å¤„è·å–å½“å‰ç”¨æˆ·æ‰€åœ¨ç¾¤çš„ç¾¤IDï¼Œä½†æ˜¯èƒ¶æ°´å‡½æ•°é‡Œé¢æ²¡æœ‰ç°æˆçš„é€šè¿‡ç¾¤IDæ‰“å¼€ç¾¤èŠçš„åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘é€šè¿‡çœ‹èƒ¶æ°´ä»£ç ä»¥åŠIMSDKçš„ç¾¤æœåŠ¡ç›¸å…³çš„å¤´æ–‡ä»¶<code>IYWTribeService.h</code>ï¼Œæ‰¾åˆ°<code>IMCore.getTribeService().requestTribeFromServer</code>å‡½æ•°ï¼Œå®ƒå¯ä»¥è¿”å›ä¸€ä¸ª<code>YWTribe</code>ç±»å‹çš„ç¾¤å˜é‡ã€‚æ‰€ä»¥æˆ‘å…ˆé€šè¿‡è¯¥å‡½æ•°æ ¹æ®ç¾¤IDæŸ¥è¯¢åˆ°ç¾¤ä¿¡æ¯ï¼Œå¹¶ä¸”æ ¹æ®YWTribeç±»å‹çš„ç¾¤å˜é‡å†è°ƒç”¨<code>exampleOpenConversationViewControllerWithTribe</code>æ–¹æ³•ã€‚</p>
 <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">talk2Group</span><span class="params">(groudId:String)</span></span> &#123; </div><div class="line">    <span class="type">SPKitExample</span>.sharedInstance().ywIMKit.<span class="type">IMCore</span>.getTribeService().requestTribeFromServer(groudId, completion: &#123; (<span class="type">YWTribe</span>, <span class="type">NSError</span>) -&gt; <span class="type">Void</span> <span class="keyword">in</span> <span class="type">SPKitExample</span>.sharedInstance().exampleOpenConversationViewControllerWithTribe(<span class="type">YWTribe</span>,fromNavigationController:<span class="keyword">self</span>.navigationController))</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> æˆ‘è§‰å¾—ï¼Œèƒ¶æ°´å‡½æ•°é‡Œæ—¢ç„¶æœ‰æ ¹æ®å¯¹æ–¹çš„ç”¨æˆ·IDæ¥æ‰“å¼€å•èŠç•Œé¢çš„å°è£…å‡½æ•°ï¼Œå°±åº”è¯¥æœ‰è¿™æ ·ä¸€ä¸ªæ ¹æ®ç¾¤IDæ¥æ‰“å¼€ç¾¤èŠç•Œé¢çš„å°è£…å‡½æ•°ã€‚å½“æ—¶ï¼Œç”±äºå¯¹IMSDKç»“æ„çš„ä¸ç†Ÿæ‚‰ï¼Œè¿™ä¸ªåŠŸèƒ½æˆ‘è¿˜èŠ±äº†ä¸€äº›æ—¶é—´æ¥æ‰¾æ¥å£å®ç°ã€‚</p>
</li>
</ol>
<h3 id="2-APNSæ¨é€"><a href="#2-APNSæ¨é€" class="headerlink" title="2.APNSæ¨é€"></a>2.APNSæ¨é€</h3><p>æˆ‘åœ¨å¦å¤–ä¸€ç¯‡åšæ–‡é‡Œä»‹ç»äº†åœ¨iOS9-Swift2-Xcode7ç¯å¢ƒä¸‹çš„APNSæ¨é€ç›¸å…³çš„å†…å®¹ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸‹å…·ä½“çš„åœ¨é˜¿é‡Œç™¾å·ç¯å¢ƒä¸‹çš„å®ç°ã€‚</p>
<h4 id="Step1-åˆ¶ä½œå¹¶ä¸Šä¼ è¯ä¹¦"><a href="#Step1-åˆ¶ä½œå¹¶ä¸Šä¼ è¯ä¹¦" class="headerlink" title="Step1 åˆ¶ä½œå¹¶ä¸Šä¼ è¯ä¹¦"></a>Step1 åˆ¶ä½œå¹¶ä¸Šä¼ è¯ä¹¦</h4><p>ç”³è¯·æ¨é€è¯ä¹¦è¿™ä¸ªç™¾åº¦æœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œè¿™é‡Œä¸åœ¨èµ˜è¿°äº†ï¼Œåæ­£è¦æ³¨æ„é˜¿é‡Œç™¾å·çš„åå°éœ€è¦çš„ç”Ÿäº§ç¯å¢ƒçš„è¯ä¹¦ã€‚</p>
<h4 id="Step2-ç”³è¯·DeviceToken"><a href="#Step2-ç”³è¯·DeviceToken" class="headerlink" title="Step2 ç”³è¯·DeviceToken"></a>Step2 ç”³è¯·DeviceToken</h4><p>é¦–å…ˆéœ€è¦åœ¨<code>AppDelegate.swift</code>æ–‡ä»¶çš„<code>func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -&gt; Bool</code>å‡½æ•°é‡Œæ·»åŠ ä»¥ä¸‹ä¸¤å¥æ¥å‘Appleçš„APNSæœåŠ¡å™¨æ³¨å†Œç”³è¯·DeviceTokenï¼Œè¿™é‡Œå¯ä»¥è®¾ç½®æ–°æ¶ˆæ¯æ¨é€æ¥Appçš„å±•ç°å½¢å¼ï¼Œæœ‰Soundã€Alertã€Badgeä¸‰ç§ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="type">UIApplication</span>.sharedApplication().registerUserNotificationSettings(<span class="type">UIUserNotificationSettings</span>(forTypes: [<span class="type">UIUserNotificationType</span>.<span class="type">Sound</span> , <span class="type">UIUserNotificationType</span>.<span class="type">Alert</span> , <span class="type">UIUserNotificationType</span>.<span class="type">Badge</span>], categories: <span class="literal">nil</span>))</div><div class="line"><span class="type">UIApplication</span>.sharedApplication().registerForRemoteNotifications()</div></pre></td></tr></table></figure>
<p>æ¥ç€æ·»åŠ æ³¨å†Œç”³è¯·DeviceTokenæˆåŠŸçš„å›è°ƒå‡½æ•°ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(application:UIApplication,didRegisterForRemoteNotificationsWithDeviceToken deviceToken:NSData)</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> token:<span class="type">String</span> = deviceToken.description.stringByTrimmingCharactersInSet(<span class="type">NSCharacterSet</span>(charactersInString: <span class="string">"&lt;&gt;"</span>))</div><div class="line">    <span class="built_in">print</span>(<span class="string">"token==<span class="subst">\(token)</span>"</span>)</div><div class="line">    <span class="comment">//å°†tokenå‘é€åˆ°æœåŠ¡å™¨</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šIMSDKä¼šè‡ªåŠ¨å¾—åˆ°è¯¥DeviceTokenï¼Œä½ æ— é¡»æ‰‹åŠ¨ä¼ ç»™IMSDK</p>
<h4 id="Step3-å¤„ç†APNSæ¶ˆæ¯"><a href="#Step3-å¤„ç†APNSæ¶ˆæ¯" class="headerlink" title="Step3 å¤„ç†APNSæ¶ˆæ¯"></a>Step3 å¤„ç†APNSæ¶ˆæ¯</h4><p>ç”±äºåˆå§‹åŒ–SDKçš„æ—¶å€™å°±è°ƒç”¨äº†<code>SPKitExample.sharedInstance().callThisInDidFinishLaunching()</code>å‡½æ•°ï¼Œåœ¨<code>callThisInDidFinishLaunching</code>é‡Œé¢å·²ç»è°ƒç”¨äº†<code>exampleHandleAPNSPush()</code>,æ‰€ä»¥å°±ä¸ç”¨åƒæ–‡æ¡£é‡Œé¢è¯´çš„é‚£æ ·å†åœ¨<code>AppDelegate didFinishLoadingWithOptions</code>è°ƒç”¨<code>IYWPushService</code>çš„<code>setHandlePushBlockV3:</code>æ–¹æ³•ã€‚</p>
<h4 id="Step4-Xcodeè®¾ç½®ä¸ºDistributionè¯ä¹¦çš„AdHoc-Provisionæ‰“åŒ…"><a href="#Step4-Xcodeè®¾ç½®ä¸ºDistributionè¯ä¹¦çš„AdHoc-Provisionæ‰“åŒ…" class="headerlink" title="Step4 Xcodeè®¾ç½®ä¸ºDistributionè¯ä¹¦çš„AdHoc Provisionæ‰“åŒ…"></a>Step4 Xcodeè®¾ç½®ä¸ºDistributionè¯ä¹¦çš„AdHoc Provisionæ‰“åŒ…</h4><p>ç”±äºé˜¿é‡Œç™¾å·ä½¿ç”¨çš„ç”Ÿäº§ç¯èŠ‚ä¸‹çš„æ¨é€è¯ä¹¦ï¼Œè€Œæˆ‘ä»¬åˆä¸èƒ½ç­‰åˆ°åº”ç”¨ä¸Šçº¿åˆ°AppStoreåå†æµ‹è¯•ï¼Œæ‰€ä»¥è¿™é‡ŒProvisioning Profilesä½¿ç”¨AdHoc Provisionï¼Œå¦‚ä½•ç”³è¯·ç™¾åº¦ä¹Ÿæœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œè¿™é‡Œå°±ä¸åœ¨èµ˜è¿°ã€‚</p>
<p>è¿™é‡Œè®²ä¸€ä¸‹Xcode7è®¾ç½®æ‰“åŒ…ç¯å¢ƒçš„è¿‡ç¨‹ï¼š</p>
<p>é¦–å…ˆè®¾ç½®Projectä¸‹çš„Code Signingï¼š<br>Code Signing Identity å…¨éƒ¨è®¾ç½®ä¸ºDistributionè¯ä¹¦<br>Provisioning Profilesè®¾ç½®ä¸ºç”³è¯·çš„Distribution-AdHoc Provisionè¯ä¹¦</p>
<p>å†è®¾ç½®Targetä¸‹çš„Code Signingï¼š<br>Code Signing Identity å…¨éƒ¨è®¾ç½®ä¸ºAutomaticè¯ä¹¦<br>Provisioning Profilesè®¾ç½®ä¸ºç”³è¯·çš„Distribution-AdHoc Provisionè¯ä¹¦</p>
<p>åœ¨è¿™é‡Œæˆ‘é‡åˆ°å¾ˆå¤šå‘ï¼Œç»è¿‡ä¸æ–­çš„æµ‹è¯•æ‰å‘ç°è¿™æ ·çš„è®¾ç½®å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚è¿™é‡Œæˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼Œå°±æ˜¯æˆ‘åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨é˜¿é‡Œç™¾å·APNSæ¨é€æ—¶ï¼Œå¯¹è¯ä¹¦ä¸æ˜¯å¾ˆäº†è§£ï¼Œéƒ½æ²¡æœ‰ç”³è¯·Distribution-AdHoc Provisionï¼Œç³Šé‡Œç³Šæ¶‚å°±å®ç°äº†æ¨é€ï¼Œä½†æ˜¯åæ¥ä¸çŸ¥é“è‡ªå·±æ€ä¹ˆæ”¹åŠ¨äº†è®¾ç½®ï¼ŒAPNSå°±ä¸èƒ½æ¨é€åˆ°appäº†ã€‚åæœŸæˆ‘å­¦ä¹ äº†è‹¹æœçš„è¯ä¹¦ç³»ç»Ÿï¼Œç”³è¯·äº†Distribution-AdHoc Provisionè¯ä¹¦ï¼Œæ‰åˆå®ç°äº†APNSæ¨é€ï¼Œå…³äºç¬¬ä¸€æ¬¡æ˜¯å¦‚ä½•å®ç°åŠŸèƒ½çš„ï¼Œæˆ‘åˆ°ç°åœ¨éƒ½æ²¡å¼„æ˜ç™½ã€‚</p>
<h4 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h4><p>å¦‚æœAppåœ¨åå°æ”¶ä¸åˆ°æ¨é€çš„æ¶ˆæ¯ï¼Œè¯·å‚è€ƒæˆ‘é‚£ç¯‡åšæ–‡ä»¥åŠç™¾å·çš„æ–‡æ¡£ï¼Œé‡Œé¢æœ‰æ•™æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨APNSè°ƒè¯•å·¥å…·é€šè¿‡ä½¿ç”¨æˆ‘ä»¬çš„è¯ä¹¦ï¼Œæ‰‹åŠ¨Pushä¸€æ¡æ¶ˆæ¯åˆ°æˆ‘ä»¬çš„Appã€‚é€šè¿‡æ­¤æ–¹æ³•æ£€æµ‹æ¨é€è¯ä¹¦å’ŒDeviceTokenæ˜¯å¦æ­£ç¡®ã€‚å¦‚æœæ‰‹åŠ¨æ¨é€å¯ä»¥ï¼Œåˆ™è¯´æ˜Appè¯ä¹¦æ‰“åŒ…ä»¥åŠç”³è¯·DeviceTokenéƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œæ­¤æ—¶åº”è¯¥æ£€æµ‹ä¸€ä¸‹æäº¤åˆ°é˜¿é‡Œç™¾å·åå°çš„è¯ä¹¦æœ‰æ²¡æœ‰é—®é¢˜ã€‚</p>
<h2 id="é¡¹ç›®æ€»ç»“"><a href="#é¡¹ç›®æ€»ç»“" class="headerlink" title="é¡¹ç›®æ€»ç»“"></a>é¡¹ç›®æ€»ç»“</h2><p>å³æ—¶é€šè®¯åŠŸèƒ½è™½ç„¶åªæ˜¯æˆ‘å¼€å‘çš„appä¸­çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œä½†é€šè¿‡åœ¨é¡¹ç›®ä¸­å¼•ç”¨é˜¿é‡Œç™¾å·å³æ—¶é€šè®¯æœåŠ¡ï¼Œè®©æˆ‘æ‡‚äº†ä¸€ç‚¹å¦‚ä½•åœ¨Swifté¡¹ç›®è°ƒç”¨OC-SDKï¼Œè¿™ä¸ºæˆ‘è°ƒç”¨æ›´å¤šç¬¬ä¸‰æ–¹OCè¯­è¨€SDKæä¾›äº†åŸºç¡€ã€‚</p>
<p>åœ¨è¿™é‡Œéå¸¸æ„Ÿè°¢é˜¿é‡Œç™¾å·-å³æ—¶é€šè®¯çš„æŠ€æœ¯æ”¯æŒåœ¨æˆ‘å¼€å‘è¿‡ç¨‹ä¸­æä¾›çš„å¸®åŠ©ï¼</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;åœ¨&lt;a href=&quot;../../../../2015/11/06/iOS-webAppå®¢æˆ·ç«¯å¼€å‘-å°è®°/&quot;&gt;iOS-webAppå®¢æˆ·ç«¯å¼€å‘å°
    
    </summary>
    
      <category term="å¼€å‘" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/iOS/"/>
    
    
      <category term="Swift" scheme="https://huangshuai-iot.github.io/tags/Swift/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/tags/iOS/"/>
    
      <category term="é˜¿é‡Œç™¾å·" scheme="https://huangshuai-iot.github.io/tags/%E9%98%BF%E9%87%8C%E7%99%BE%E5%B7%9D/"/>
    
      <category term="å³æ—¶é€šè®¯" scheme="https://huangshuai-iot.github.io/tags/%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF/"/>
    
  </entry>
  
  <entry>
    <title>iOS:webAppå®¢æˆ·ç«¯å¼€å‘å°è®°</title>
    <link href="https://huangshuai-iot.github.io/2015/11/05/iOS-webApp%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B0%8F%E8%AE%B0/"/>
    <id>https://huangshuai-iot.github.io/2015/11/05/iOS-webAppå®¢æˆ·ç«¯å¼€å‘å°è®°/</id>
    <published>2015-11-05T09:00:15.000Z</published>
    <updated>2016-08-09T08:39:46.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>è¿™ç¯‡æ–‡ç« ï¼Œç°åœ¨æ˜¯æˆ‘å†™çš„ç¬¬äºŒéï¼Œå› ä¸ºå°±åœ¨æˆ‘åˆšæ‰å‡†å¤‡commitçš„æ—¶å€™ï¼Œæ‰‹è´±ç‚¹äº†syncï¼Œç»“æœç™½å†™äº†ä¸€ä¸ªå°æ—¶ã€‚</p>
</blockquote>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æš‘æœŸä»¥æ¥æˆ‘ä¸€ç›´åœ¨ä¸€å®¶ç‰©è”ç½‘å…¬å¸å®ä¹ ï¼Œåˆšæ¥çš„æ—¶å€™å¼€å‘äº†ä¸€æ¬¾ç‰©è”ç½‘äº‘æœåŠ¡çš„iOSå®¢æˆ·ç«¯ï¼Œä¹Ÿè®¸ä½ ä¼šé—®ä¸ºå•¥ä¸€ä¸ªå®ä¹ ç”Ÿåˆšæ¥å°±å¼€å‘äº§å“ï¼Œä¸»è¦åŸå› æ˜¯æˆ‘èƒ½åŠ›è¶…å¼ºï¼Œè¿˜æœ‰ä¸€ä¸ªå¾ˆå°çš„åŸå› æ˜¯å…¨å…¬å¸å°±æˆ‘ç”¨Macï¼Œå¹¶ä¸”ä¼šç‚¹ç‚¹Swiftï¼Œå“ˆå“ˆã€‚</p>
<p>åˆšæ¥æ˜¯å¼€å‘ä¸€æ¬¾ç‰©è”ç½‘åº”ç”¨çš„iOSå®¢æˆ·ç«¯ï¼ˆ<a href="https://itunes.apple.com/us/app/iotcloud/id1045360550?l=zh&amp;ls=1&amp;mt=8" target="_blank" rel="external">1.0ç‰ˆæœ¬</a>ç°åœ¨å·²ä¸Šçº¿ï¼‰ï¼ŒåæœŸå¼€å‘äº†ä¸€æ®µæ—¶é—´è¿™ä¸ªäº§å“çš„åå°ï¼Œä¸»è¦æ˜¯MongoDBå’ŒJava Webã€‚ä¹‹åï¼Œæˆ‘åˆè¢«å«å»å¼€å‘å¦ä¸€æ¬¾äº‘æ•™è‚²åº”ç”¨çš„iOSå®¢æˆ·ç«¯å’ŒAndroidå®¢æˆ·ç«¯ã€‚è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»çš„æ˜¯å¼€å‘è¿™ä¸¤æ¬¾iOSåº”ç”¨çš„æ€»ç»“ï¼ŒåæœŸä¼šæ€»ç»“ä¸€ä¸‹åœ¨Androidä¸Šå®ç°åŒæ ·åŠŸèƒ½çš„ç»éªŒã€‚</p>
<p>æˆ‘ä»¬å…¬å¸çš„äº§å“éƒ½æ˜¯å‰ç«¯æ˜¯é‡‡ç”¨HTML5çš„ï¼Œè¿™æ ·æ¯ä¸ªå¹³å°çš„å®¢æˆ·ç«¯åªè¦å¥—ä¸ªUIWebViewçš„å£³å­å°±å¥½ã€‚ä½†æ˜¯é—®é¢˜ä¸æ˜¯å…¨éƒ¨ç½‘é¡µéƒ½æ˜¯ä»æœåŠ¡å™¨ç«¯åŠ è½½çš„ï¼Œå› ä¸ºä¸èƒ½ä¿è¯ç½‘ç»œä¸€ç›´ç•…é€šï¼Œä»¥åŠæœåŠ¡å™¨æ²¡æœ‰é”™ï¼Œè¦æ˜¯ç½‘ç»œä¸é€šï¼Œé‚£æ•´ä¸ªåº”ç”¨å°±æ˜¯ä¸€ç‰‡ç©ºç™½ï¼Œè¿™æ ·çš„ä½“éªŒå¤ªå·®äº†ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬çš„æƒ³æ³•æ˜¯æ¬¢è¿é¡µã€ç™»é™†é¡µéƒ½æ˜¯æœ¬åœ°çš„èµ„æºï¼Œè¿™æ ·åº”ç”¨æ‰“å¼€ï¼Œä¸ç®¡æœåŠ¡å™¨å•¥æƒ…å†µï¼Œç”¨æˆ·éƒ½æ˜¯å¯ä»¥çœ‹è§ä¸œè¥¿çš„ã€‚</p>
<hr>
<h2 id="åº”ç”¨é€»è¾‘"><a href="#åº”ç”¨é€»è¾‘" class="headerlink" title="åº”ç”¨é€»è¾‘"></a>åº”ç”¨é€»è¾‘</h2><ol>
<li><p>æ‰“å¼€åº”ç”¨ï¼Œé¦–å…ˆåŠ è½½welcome.htm(åŸæœ¬æ˜¯jspæ–‡ä»¶ï¼Œåœ¨Androidå¹³å°ä¸Šå¯ä»¥åŠ è½½ï¼Œä½†æ˜¯Safariä¸è¡Œï¼Œæ‰€ä»¥ç›´æ¥æ”¹äº†åç¼€)ï¼Œwelcome.htmçš„jsä¼šä»sqliteä¸­å–å‡ºç”¨æˆ·åå’Œå¯†ç ï¼Œè‹¥ä¸ä¸ºç©ºï¼Œåˆ™ç›´æ¥è¡¨å•æäº¤ç™»å½•ï¼›å¦‚ä¸ºç©ºï¼Œåˆ™è·³è½¬åˆ°æœ¬åœ°login.htmç•Œé¢è¿›è¡Œç™»å½•</p>
</li>
<li><p>ç”¨æˆ·åœ¨login.htmè¿›è¡Œç™»å½•ï¼Œè‹¥ç™»å½•æˆåŠŸï¼Œåˆ™å…¶ä¸­çš„jsæ–‡ä»¶ä¼šå°†ç”¨æˆ·åã€å¯†ç å­˜å…¥sqliteä¸­</p>
</li>
<li><p>åº”ç”¨ä¸­æœ‰äºŒç»´ç æ‰«æåŠŸèƒ½ï¼Œè‹¥ç‚¹å‡»è¯¥æŒ‰é’®ï¼Œåˆ™è·³è½¬å›æœ¬åœ°ï¼Œä½¿ç”¨ç›¸æœºè¿›è¡ŒäºŒç»´ç æ‰«æï¼Œç„¶åå°†ç»“æœåˆè¿”å›ç»™ç½‘é¡µåº”ç”¨</p>
</li>
<li><p>åº”ç”¨ä¸­æœ‰é€€å‡ºåŠŸèƒ½ï¼Œè‹¥ç‚¹å‡»è¯¥æŒ‰é’®ï¼Œåˆ™è·³è½¬å›æœ¬åœ°login.htmç•Œé¢ï¼Œå…¶ä¸­çš„jsä¼šæ¸…ç©ºsqliteä¸­æ•°æ®</p>
</li>
</ol>
<hr>
<h2 id="é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•"><a href="#é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•" class="headerlink" title="é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•"></a>é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•</h2><ol>
<li><p>Xcode7å¯¼å…¥æœ¬åœ°èµ„æº<br>ä¹‹å‰ç”¨çš„æ˜¯Xcode6ï¼Œé¡¹ç›®ä¸‹é¢æœ‰ä¸€ä¸ªSupporting Filesæ–‡ä»¶å¤¹ï¼Œå°†æœ¬åœ°èµ„æºå¯¼å…¥åéƒ½åœ¨æ­¤æ–‡ä»¶å¤¹ä¸­ï¼Œå‡çº§åˆ°Xcode7åï¼Œæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶å¤¹äº†ï¼Œå¯ä»¥ç›´æ¥å°†æœ¬åœ°èµ„æºç›´æ¥å¯¼å…¥é¡¹ç›®ä¸­ã€‚</p>
</li>
<li><p>iOS9ç½‘ç»œè¿æ¥é—®é¢˜<br>åˆšå¼€å§‹ç”¨Xcode6å¼€å‘ç¬¬ä¸€é¡¹ç›®çš„æ—¶å€™ï¼ŒUIWebViewè”ç½‘æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œç¬¬äºŒä¸ªé¡¹ç›®ä½¿ç”¨çš„æ˜¯Xcode7å’ŒiOS9ï¼Œå°±è¿æ‰“å¼€baiduéƒ½æ— æ³•å®ç°ï¼Œæ§åˆ¶å°ä¼šæŠ¥é”™:<br>å½“æ—¶åœ¨Stack Overflowæ‰¾åˆ°åŸå› äº†:</p>
 <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="type">Application</span> <span class="type">Transport</span> <span class="type">Security</span> has blocked a cleartext <span class="type">HTTP</span> (http:<span class="comment">//) resource load since it is insecure. Temporary exceptions can be configured via your app's Info.plist file.</span></div></pre></td></tr></table></figure>
<p> <strong>åœ¨iOS9 beta1ä¸­ï¼Œè‹¹æœå°†åŸhttpåè®®æ”¹æˆäº†httpsåè®®ï¼Œä½¿ç”¨ TLS1.2 SSLåŠ å¯†è¯·æ±‚æ•°æ®ã€‚</strong><br>è§£å†³æ–¹æ³•å°±æ˜¯ï¼šåœ¨info.plistä¸­æ·»åŠ </p>
 <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;key&gt;<span class="type">NSAppTransportSecurity</span>&lt;/key&gt;</div><div class="line">&lt;dict&gt;&lt;key&gt;<span class="type">NSAllowsArbitraryLoads</span>&lt;/key&gt;&lt;<span class="literal">true</span>/&gt;&lt;/dict&gt;</div></pre></td></tr></table></figure>
<p> åæ¥åœ¨<a href="http://www.infoq.com/cn/articles/wechat-ios9-adaptation" target="_blank" rel="external">ã€Šå¾®ä¿¡åœ¨é€‚é…iOS9ä¸Šé‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‹</a>ä¹Ÿçœ‹åˆ°äº†è¯¥é—®é¢˜çš„è§£å†³æ–¹æ³•ã€‚</p>
</li>
<li><p>UIWebViewåŠ è½½æœ¬åœ°èµ„æº</p>
<p> æˆ‘åšçš„é¡¹ç›®ä¸­ï¼Œä¸»è¦æ˜¯UIWebViewåŠ è½½æœ¬åœ°çš„ç½‘é¡µï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
 <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> path = <span class="type">NSBundle</span>.mainBundle().pathForResource(<span class="string">"index"</span>, ofType: <span class="string">"htm"</span>)</div><div class="line"><span class="keyword">let</span> urlobj = <span class="type">NSURL</span>.fileURLWithPath(path!)</div><div class="line"><span class="keyword">let</span> request = <span class="type">NSURLRequest</span>(<span class="type">URL</span>: urlobj)</div><div class="line">myWebView.loadRequest(request)</div></pre></td></tr></table></figure>
</li>
<li><p>ä»ç½‘é¡µè·³è½¬å›æœ¬åœ°</p>
<p> å‰é¢è¯´åˆ°é¡¹ç›®çš„ä¸¤ä¸ªåŠŸèƒ½ï¼šä¸€æ˜¯ç½‘é¡µè°ƒç”¨æœ¬åœ°äºŒç»´ç ï¼›äºŒæ˜¯åœ¨ç½‘é¡µé‡Œé€€å‡ºï¼Œæœ¬åœ°èƒ½æ¸…é™¤ç™»å½•æ•°æ®ã€‚</p>
<p> æˆ‘çš„è§£å†³æ€è·¯æ˜¯ï¼šwebåº”ç”¨ä¸­ï¼Œéœ€è¦è·³è½¬æœ¬åœ°çš„åŠŸèƒ½ï¼Œéƒ½æŠŠé“¾æ¥å†™æˆå›ºå®šæ ¼å¼çš„</p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"m://erweima.com/"</span> <span class="attr">class</span>=<span class="string">"link_btn link_btn_t"</span>&gt;</span>äºŒç»´ç æ‰«æ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
<p> UIWebViewä¸­æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥åœ¨é“¾æ¥åœ°å€æ”¹å˜æ—¶è§¦å‘ï¼Œæˆ‘å°±æ˜¯åˆ©ç”¨è¯¥æ–¹æ³•ï¼Œåˆ¤æ–­UIWebViewå³å°†è¦è·³è½¬çš„é“¾æ¥åœ°å€ï¼Œå¦‚æœæ˜¯äº‹å…ˆç¡®å®šçš„ï¼Œåˆ™æ‰§è¡Œæœ¬åœ°ç›¸å…³æ“ä½œï¼Œå¦‚ä¸Šæ‰€è¿°çš„äºŒç»´ç æ“ä½œï¼š</p>
 <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">webView</span><span class="params">(webView: UIWebView,shouldStartLoadWithRequest request: NSURLRequest,navigationType: UIWebViewNavigationType)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">let</span> rurl = request.<span class="type">URL</span></div><div class="line">    <span class="keyword">if</span>(rurl!.scheme == <span class="string">"m"</span> &amp;&amp; rurl!.host == <span class="string">"erweima.com"</span>) &#123; </div><div class="line">    <span class="comment">//å¯åŠ¨äºŒç»´ç æ‰«æ</span></div><div class="line">    tiaozhuan()</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//è¿”å›trueå°±ä¼šè·³è½¬æ–°åœ°å€</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>äºŒç»´ç æ‰«æåŠŸèƒ½</p>
<p> è¿™é‡Œç”¨åˆ°ä¸€ä¸ªç”¨Swift2å’ŒAVFoundationå†™çš„äºŒç»´ç æ‰«æçš„ç±»<a href="https://github.com/Recursion0210/QRCode" target="_blank" rel="external">github</a>ï¼Œç±»é‡Œç”¨çš„æ˜¯UIStoryBoardè¿›è¡Œè·³è½¬çš„ï¼Œæˆ‘ç¨å¾®æ”¹åŠ¨äº†ä¸€ä¸‹ï¼Œç”¨æ–¹æ³•è°ƒç”¨çš„ï¼š</p>
 <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tiaozhuan</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">let</span> scannerVC:<span class="type">ScannerViewController</span> = <span class="type">ScannerViewController</span>()</div><div class="line">    scannerVC.delegate = <span class="keyword">self</span></div><div class="line">    <span class="keyword">self</span>.presentViewController(scannerVC, animated: <span class="literal">false</span>, completion: <span class="literal">nil</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> ViewControllerç»§æ‰¿äº†<code>ScannerViewControllerDelegate</code>åè®®ï¼Œå®ç°äº†ï¼š</p>
 <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">barcodeObtained</span><span class="params">(viewController:ScannerViewController, data: String)</span></span> &#123;</div><div class="line">    <span class="comment">//æ‰“å°äºŒç»´ç æ‰«æçš„ç»“æœ</span></div><div class="line">    <span class="built_in">print</span>(data)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<p>é¡¹ç›®æœ¬æ¥å·²ç»åšå®Œäº†ï¼Œç»ç†åˆåŠ äº†ä¸€äº›åŠŸèƒ½ï¼Œå› æ­¤åˆæ¥è¡¥å……äº†ã€‚</p>
<p>ä»Šå¤©å‘¨ä¸‰ï¼Œæ˜¯å…‰æ£èŠ‚ï¼Œå‘¨ä¸€åšçš„æ˜¯Androidå’ŒiOSçš„åˆ¤æ–­ç½‘ç»œçŠ¶æ€çš„åŠŸèƒ½ï¼Œå‘¨äºŒå’Œä»Šå¤©ä¸Šåˆåšçš„æ˜¯Androidçš„å³æ—¶é€šè®¯å’Œå®æ—¶éŸ³è§†é¢‘åŠŸèƒ½ï¼Œä»Šå¤©ä¸‹åˆåšçš„æ˜¯iOSçš„å³æ—¶é€šè®¯åŠŸèƒ½ï¼Œç”±äºSDKç”¨çš„æ˜¯OCï¼Œè€Œæˆ‘ç”¨çš„æ˜¯Swiftï¼Œæ‰€ä»¥åˆ°ç°åœ¨ä¹Ÿæ²¡æå‡ºæ¥å•¥ï¼Œè¿˜å¥½é¡¹ç›®ä¸æ€¥ï¼Œæ‰€ä»¥æ¥æ›´æ–°ä¸€ä¸‹åšå®¢ã€‚</p>
<p>2015-11-11 17:55</p>
<hr>
<ol>
<li><p>åˆ¤æ–­ç½‘ç»œçŠ¶æ€</p>
<h5 id="é—®é¢˜ï¼š"><a href="#é—®é¢˜ï¼š" class="headerlink" title="é—®é¢˜ï¼š"></a>é—®é¢˜ï¼š</h5><p>æ˜¯è¿™æ ·çš„ï¼Œç”±äºäº§å“ç™»é™†å®Œä¹‹åï¼Œå…¨éƒ¨å†…å®¹éƒ½åœ¨UIWebViewä¸­ï¼Œè¦æ˜¯ç½‘ç»œçªç„¶æ–­äº†ï¼Œå°±ä¼šæ˜¾ç¤ºæ— æ³•è¿æ¥ç•Œé¢ï¼Œè¿™æ ·ç”¨æˆ·ä½“éªŒä¸å¥½ï¼Œå¦‚æœåé¢èƒ½è”ç½‘äº†ï¼Œåˆä¸èƒ½è¿”å›åˆ°æ–­ç½‘ä¹‹å‰çš„ç•Œé¢ã€‚</p>
<h5 id="éœ€æ±‚ï¼š"><a href="#éœ€æ±‚ï¼š" class="headerlink" title="éœ€æ±‚ï¼š"></a>éœ€æ±‚ï¼š</h5><p>åœ¨å°½é‡ä¸æ”¹åå°çš„æƒ…å†µä¸‹ï¼Œè§£å†³ä¸Šé¢çš„é—®é¢˜</p>
<h5 id="è§£å†³æ€è·¯ï¼š"><a href="#è§£å†³æ€è·¯ï¼š" class="headerlink" title="è§£å†³æ€è·¯ï¼š"></a>è§£å†³æ€è·¯ï¼š</h5><p>åœ¨æ¯æ¬¡éœ€è¦è·³è½¬ä¹‹å‰ï¼Œå…ˆåˆ¤æ–­ä¸€ä¸‹ç½‘ç»œçŠ¶æ€ï¼Œè‹¥æ˜¯å¯ä»¥è”ç½‘åˆ™ä¸å¤„ç†ï¼›è‹¥ä¸èƒ½è”ç½‘ï¼Œåˆ™å­˜å‚¨å½“å‰é“¾æ¥ï¼Œå¹¶è·³è½¬åˆ°æœ¬åœ°ä¸€ä¸ªä¸èƒ½è”ç½‘çš„ç•Œé¢ï¼Œè¯¥ç•Œé¢ä¸Šæœ‰åˆ·æ–°æŒ‰é’®ï¼Œé€šè¿‡ä¸æ–­ç‚¹å‡»åˆ·æ–°æŒ‰é’®æ¥é‡å¤è·³è½¬è¯¥ç•Œé¢ï¼Œç„¶åå¯ä»¥åˆ¤æ–­ç½‘ç»œæƒ…å†µï¼Œè‹¥å¯ä»¥è”ç½‘äº†ï¼Œåˆ™åŠ è½½ä¹‹å‰å­˜å‚¨çš„é“¾æ¥ã€‚</p>
<p>ä¸Šé¢çš„é€»è¾‘ä»£ç å°±ä¸è´´äº†ï¼Œæ²¡æœ‰å‚è€ƒæ„ä¹‰ï¼Œåæ­£å°±æ˜¯åœ¨ä¸Šé¢ç¬¬å››ç‚¹çš„webViewæ–¹æ³•ä¸­è¿›è¡Œå¤„ç†ã€‚è¿™é‡Œæˆ‘æ”¾ä¸€ä¸ªåˆ¤æ–­ç½‘ç»œçŠ¶æ€çš„é¡¹ç›®åœ°å€<a href="https://github.com/ashleymills/Reachability.swift" target="_blank" rel="external">Reachability.swift-github</a></p>
</li>
<li><p>å³æ—¶é€šè®¯</p>
<h5 id="é—®é¢˜ï¼š-1"><a href="#é—®é¢˜ï¼š-1" class="headerlink" title="é—®é¢˜ï¼š"></a>é—®é¢˜ï¼š</h5><p>ç”±äºæˆ‘ä»¬çš„é¡¹ç›®æ˜¯åšæ•™è‚²ç±»çš„ï¼Œéœ€è¦ç”¨æˆ·ä¹‹é—´å¯ä»¥è¿›è¡Œç±»ä¼¼äºå¾®ä¿¡é‚£æ ·çš„é€šä¿¡åŠŸèƒ½ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œå®æ—¶éŸ³ã€è§†é¢‘é€šè¯åŠŸèƒ½ã€‚</p>
<h5 id="éœ€æ±‚ï¼š-1"><a href="#éœ€æ±‚ï¼š-1" class="headerlink" title="éœ€æ±‚ï¼š"></a>éœ€æ±‚ï¼š</h5><p>å®ç°ä¸Šè¿°åŠŸèƒ½ï¼Œè¿˜è¦å°½å¯èƒ½çš„ä¿è¯æœåŠ¡è´¨é‡</p>
<h5 id="è§£å†³æ€è·¯ï¼š-1"><a href="#è§£å†³æ€è·¯ï¼š-1" class="headerlink" title="è§£å†³æ€è·¯ï¼š"></a>è§£å†³æ€è·¯ï¼š</h5><p>æˆ‘æƒ³åˆ°çš„æ–¹æ³•æ˜¯é›†æˆç¬¬ä¸‰æ–¹çš„æœåŠ¡ï¼Œç›®å‰ç”¨çš„æ˜¯<a href="http://www.yuntongxun.com/" target="_blank" rel="external">å®¹è”äº‘æœåŠ¡</a>ã€‚è¿˜æ²¡åšå®Œï¼Œæœªå®Œå¾…ç»­ã€‚  </p>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« ï¼Œç°åœ¨æ˜¯æˆ‘å†™çš„ç¬¬äºŒéï¼Œå› ä¸ºå°±åœ¨æˆ‘åˆšæ‰å‡†å¤‡commitçš„æ—¶å€™ï¼Œæ‰‹è´±ç‚¹äº†syncï¼Œç»“æœç™½å†™äº†ä¸€ä¸ªå°æ—¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;
    
    </summary>
    
      <category term="å¼€å‘" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/categories/%E5%BC%80%E5%8F%91/iOS/"/>
    
    
      <category term="Swift" scheme="https://huangshuai-iot.github.io/tags/Swift/"/>
    
      <category term="iOS" scheme="https://huangshuai-iot.github.io/tags/iOS/"/>
    
      <category term="UIWebView" scheme="https://huangshuai-iot.github.io/tags/UIWebView/"/>
    
      <category term="äºŒç»´ç æ‰«æ" scheme="https://huangshuai-iot.github.io/tags/%E4%BA%8C%E7%BB%B4%E7%A0%81%E6%89%AB%E6%8F%8F/"/>
    
  </entry>
  
  <entry>
    <title>åšæ–‡çš„å¼€å§‹</title>
    <link href="https://huangshuai-iot.github.io/2015/10/19/%E5%8D%9A%E6%96%87%E7%9A%84%E5%BC%80%E5%A7%8B/"/>
    <id>https://huangshuai-iot.github.io/2015/10/19/åšæ–‡çš„å¼€å§‹/</id>
    <published>2015-10-19T02:38:15.000Z</published>
    <updated>2016-08-09T08:38:17.000Z</updated>
    
    <content type="html"><![CDATA[<p>èµ·è¿™ä¸ªé¢˜ç›®ï¼Œæ˜¯å‘æˆ‘ä¸€ä¸ªå­¦é•¿<a href="http://blog.csdn.net/decting/article/details/8062457" target="_blank" rel="external">è‡´æ•¬</a>ã€‚</p>
<p>ä»Šå¤©æ˜¯2015å¹´å…ƒæ—¦ï¼Œç…§è¿™æ ·è¯´æ¥å°±ç®—æ˜¯å»å¹´ï¼Œæˆ‘è®¤è¯†äº†è¿™ä¸ªå­¦é•¿ã€‚å½“åˆæ˜¯è¯·æ•™å­¦é•¿å®‰å“é—®é¢˜ï¼Œç„¶åç”±äºæ—¶é—´é—®é¢˜ç›´æ¥åˆ°å­¦é•¿å¯å®¤è¯·ä»–å¸®å¿™è°ƒç¨‹åºã€‚è¯´çœŸçš„ï¼Œçœ‹ç€é«˜æ‰‹è°ƒç¨‹åºçœŸçš„èƒ½å­¦åˆ°å¤ªå¤šï¼Œä»–ä»¬è§£å†³é—®é¢˜çš„æ€è·¯å’Œæ–¹æ³•çœŸçš„å¾ˆå€¼å¾—æˆ‘ä»¬å»å­¦ä¹ ï¼Œæˆ‘è®°å¾—å½“æ—¶å­¦ä¼šäº†ç”¨Log.i(â€œâ€,â€â€)æ¥è·Ÿè¸ªç¨‹åºè¿è¡ŒçŠ¶å†µã€‚</p>
<p>   è¿›å…¥å¤§å­¦ä¸‰å¹´äº†ï¼ŒæœŸé—´ä»ç½‘ä¸Šå­¦ä¹ äº†å¾ˆå¤šä¸œè¥¿ï¼Œä¸€ç›´ä»¥æ¥æˆ‘åªæ˜¯æœ‰ä¸€ä¸ªäº’è”ç½‘å†…å®¹æ¶ˆè´¹è€…ï¼Œæ²¡æœ‰åˆ›é€ è¿‡ä»€ä¹ˆã€‚CSDNçš„è´¦å·åˆ›å»ºå¾ˆä¹…äº†ï¼Œæ¯æ¬¡çœ‹åˆ°æŠ€æœ¯ç‰›äººå†™çš„å…³äºå„ç±»é—®é¢˜çš„è§£å†³æ–¹æ³•ä»¥åŠä»–ä»¬è‡ªèº«å¯¹äºé—®é¢˜çš„æ€è€ƒï¼Œå°±éå¸¸çš„å´‡æ‹œä»¥åŠæ„Ÿè°¢ä»–ä»¬çš„ä»˜å‡ºã€‚ç»å¸¸åœ¨çœ‹å®Œä»–ä»¬çš„æŠ€æœ¯åšå®¢ä¹‹åï¼Œåœ¨æƒ³è‡ªå·±æ˜¯ä¸æ˜¯ä¹Ÿèƒ½å†™ä¸€ç‚¹ä»€ä¹ˆï¼Œå°±åƒçŸ¥ä¹è¯´çš„é‚£æ ·ï¼Œä¸ä¸–ç•Œåˆ†äº«ä½ çš„çŸ¥è¯†å’Œè§è§£ï¼Œç„¶è€Œä¸€æ‹–å°±æ‹–åˆ°ç°åœ¨ã€‚å…¶å®ï¼ŒåŸæ¥ä¹ŸçœŸçš„ä»€ä¹ˆéƒ½ä¸ä¼šï¼Œæ²¡å¾—å†…å®¹æ¥ä¸å¤§å®¶åˆ†äº«ã€‚æ¸æ¸çš„æˆ‘ä¹Ÿåšäº†ä¸€äº›é¡¹ç›®ï¼Œæˆä¸ºäº†å­¦å¼Ÿä»¬çš„å­¦é•¿ï¼Œæˆ‘æƒ³æˆ‘ä¹Ÿåº”è¯¥æŠŠè‡ªå·±é‡åˆ°é—®é¢˜çš„ä¸€äº›è§£å†³æ–¹æ³•å’Œå¯¹è¿™äº›æ–¹æ³•çš„æ€è€ƒå†™å‡ºæ¥ï¼Œè€Œä¸æ˜¯åªè®°å½•åœ¨æˆ‘è‡ªå·±çš„OneNoteé‡Œé¢ã€‚</p>
<p>   æˆ‘æ˜¯ç‰©è”ç½‘ä¸“ä¸šå­¦ç”Ÿï¼Œæ‰€å¼€å‘çš„ä¸€äº›ä¹Ÿéƒ½æ˜¯è½¯ç¡¬ä»¶ç»“åˆçš„é¡¹ç›®ï¼Œæˆ‘ä¼šåœ¨æ­¤ä¸å¤§å®¶åˆ†äº«ç»éªŒã€‚</p>
<p>   å¥½äº†ï¼Œé‚£è¿™ç¬¬ä¸€ç¯‡æ–‡ç« å°±ä½œä¸ºæˆ‘æ–°é˜¶æ®µçš„å¼€å§‹ï¼Œ2015å¹´æˆ‘ä¼šå‡†å¤‡è€ƒç ”ï¼Œå› æ­¤ä¼šå¯¹ç›¸å…³çš„ç§‘ç›®è¿›è¡Œå¤ä¹ ä¸æ€»ç»“ï¼Œæˆ‘ä¹Ÿä¼šåœ¨æ­¤è®°å½•æˆ‘è€ƒç ”è·¯ä¸Šå¯¹äºä¸“ä¸šç›¸å…³é—®é¢˜çš„æ„Ÿæ‚Ÿã€‚<br>   æœ€åï¼Œä»å­¦é•¿é‚£æŠ„ä¸€å¥ï¼š</p>
<blockquote>
<p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ²¡æœ‰é—æ†¾ã€‚</p>
</blockquote>
<hr>
<p>   ä»¥ä¸Šæ˜¯æˆ‘åœ¨2015å¹´1æœˆ1æ—¥åœ¨CSDNä¸Šå†™çš„ç¬¬ä¸€ç¯‡åšæ–‡ï¼Œ</p>
<p>   å½“æ—¶å·²å€¼å¤§ä¸‰ï¼Œå¼€åšçš„ç›®çš„æ˜¯å¯ä»¥åˆ†äº«ä¸€äº›é¡¹ç›®ç»éªŒä»¥åŠè®°å½•ä¸€ä¸‹è€ƒç ”å¤‡æˆ˜è·¯ä¸Šçš„ç‚¹ç‚¹æ»´æ»´ã€‚å¯æƒœå½“æ—¶å‡†å¤‡è€ƒç ”ï¼ŒåæœŸåœ¨å†™è¿‡ä¸€ç¯‡ã€ŠAndroid-Lintä½¿ç”¨åçš„é”™è¯¯è§£å†³ã€‹ä¹‹åä¾¿åœæ»é¡¹ç›®å¼€å‘äº†ï¼Œåæ¥åˆ°äº†äº”æœˆä»½ï¼Œæˆ‘æ”¾å¼ƒäº†è€ƒç ”ï¼Œä¸€å¿ƒæƒ³ç€å°±ä¸šï¼Œäºæ˜¯æš‘æœŸå¼€å§‹ä¾¿ä¸€ç›´åœ¨åŒ—äº¬ä¸€å®¶ç‰©è”ç½‘å…¬å¸å®ä¹ ï¼Œæ—¶é—´é£å¿«ï¼Œæœ‰äº›äº‹æƒ…å´ååä»¥å®ƒå¥‡æ€ªçš„å§¿åŠ¿æ”¹å˜æˆ‘çš„è½¨è¿¹ï¼Œæ¯”å¦‚ï¼šæˆ‘ä¿ç ”äº†ã€‚</p>
<p>   å‰æ®µæ—¶é—´æŠŠå…¬å¸ä¸€ä¸ªäº§å“çš„iOSå®¢æˆ·ç«¯å†™å¥½ï¼Œç„¶åä»æ³¨å†Œå¼€å‘è€…è´¦å·å¼€å§‹åˆ°æœ€åå¼„ä¸ŠApp Storeï¼Œè‡³æ­¤æˆ‘ä¹Ÿç®—ä¸€ä¸ªiOSå¼€å‘èœé¸Ÿäº†ï¼Œå“ˆå“ˆã€‚ä¸Šå‘¨æŠŠMongoDBé¡¹ç›®æš‚æ—¶å®Œæˆäº†ï¼Œç»ç†å„¿å­å‡ºä¸–å›å®¶å»äº†ï¼Œæ‰€ä»¥è¿™å‡ å¤©ä¹Ÿæ²¡æœ‰äººç»™æˆ‘å®‰æ’å·¥ä½œï¼Œåœ¨ç½‘ä¸Šçé€›çš„æ—¶å€™ï¼Œçªç„¶æƒ³èµ·æ¥ä»Šå¹´ç¬¬ä¸€å¤©ç»™è‡ªå·±å®‰æ’çš„ä»»åŠ¡ï¼Œäºæ˜¯èŠ±äº†ä¸€ä¸Šåˆå­¦ä¹ Markdownå’ŒGithub Pageä»¥åŠjekyllã€‚</p>
<p>   æˆ‘æƒ³åœ¨æœªæ¥çš„æ—¥å­é‡Œï¼Œæˆ‘åº”è¯¥åšç‚¹ä»€ä¹ˆäº†ï¼Œé€è€…å¦‚æ–¯å¤«ï¼Œåº”è¯¥æŠŠç”Ÿæ´»è¿‡çš„åƒè‡ªå·±æƒ³è¦çš„é‚£æ ·ï¼Œæ‰å¯¹å˜›ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;èµ·è¿™ä¸ªé¢˜ç›®ï¼Œæ˜¯å‘æˆ‘ä¸€ä¸ªå­¦é•¿&lt;a href=&quot;http://blog.csdn.net/decting/article/details/8062457&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è‡´æ•¬&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä»Šå¤©æ˜¯2015å¹´å…ƒæ—¦ï¼Œç…§è¿™æ ·è¯´
    
    </summary>
    
      <category term="æ€»ç»“" scheme="https://huangshuai-iot.github.io/categories/%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="æ€»ç»“" scheme="https://huangshuai-iot.github.io/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
</feed>
